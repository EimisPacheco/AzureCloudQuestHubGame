{"ast":null,"code":"import _regeneratorRuntime from \"/Users/eimis/test-server/react_projects/cloud-architecture-game/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"/Users/eimis/test-server/react_projects/cloud-architecture-game/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"/Users/eimis/test-server/react_projects/cloud-architecture-game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/eimis/test-server/react_projects/cloud-architecture-game/src/components/AWSArchitectureGame.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { generateArchitecture } from '../services/AWSArchitectureAI';\nimport AWSArchitectureDisplay from './AWSArchitectureDisplay';\nimport ServiceOptionsPanel from './ServiceOptionsPanel';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar AWSArchitectureGame = function AWSArchitectureGame() {\n  _s();\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    architecture = _useState2[0],\n    setArchitecture = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    currentQuestion = _useState4[0],\n    setCurrentQuestion = _useState4[1];\n  var _useState5 = useState([]),\n    _useState6 = _slicedToArray(_useState5, 2),\n    serviceOptions = _useState6[0],\n    setServiceOptions = _useState6[1];\n  var _useState7 = useState(0),\n    _useState8 = _slicedToArray(_useState7, 2),\n    score = _useState8[0],\n    setScore = _useState8[1];\n  var _useState9 = useState('BEGINNER'),\n    _useState10 = _slicedToArray(_useState9, 2),\n    difficulty = _useState10[0],\n    setDifficulty = _useState10[1];\n  var _useState11 = useState(true),\n    _useState12 = _slicedToArray(_useState11, 2),\n    isLoading = _useState12[0],\n    setIsLoading = _useState12[1];\n  useEffect(function () {\n    loadNextArchitecture();\n  }, [difficulty]);\n  var loadNextArchitecture = /*#__PURE__*/function () {\n    var _ref = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var data;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) switch (_context.prev = _context.next) {\n          case 0:\n            setIsLoading(true);\n            _context.prev = 1;\n            _context.next = 4;\n            return generateArchitecture(difficulty);\n          case 4:\n            data = _context.sent;\n            setArchitecture(data.architecture);\n            setCurrentQuestion(data.question);\n            setServiceOptions(data.options);\n            _context.next = 13;\n            break;\n          case 10:\n            _context.prev = 10;\n            _context.t0 = _context[\"catch\"](1);\n            console.error('Failed to load architecture:', _context.t0);\n          case 13:\n            _context.prev = 13;\n            setIsLoading(false);\n            return _context.finish(13);\n          case 16:\n          case \"end\":\n            return _context.stop();\n        }\n      }, _callee, null, [[1, 10, 13, 16]]);\n    }));\n    return function loadNextArchitecture() {\n      return _ref.apply(this, arguments);\n    };\n  }();\n  var handleServiceSelection = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(selectedService) {\n      return _regeneratorRuntime().wrap(function _callee2$(_context2) {\n        while (1) switch (_context2.prev = _context2.next) {\n          case 0:\n            if (!(currentQuestion !== null && currentQuestion !== void 0 && currentQuestion.missingServices.includes(selectedService))) {\n              _context2.next = 4;\n              break;\n            }\n            setScore(function (prev) {\n              return prev + 1;\n            });\n            _context2.next = 4;\n            return loadNextArchitecture();\n          case 4:\n          case \"end\":\n            return _context2.stop();\n        }\n      }, _callee2);\n    }));\n    return function handleServiceSelection(_x) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"game-container\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"score-display\",\n      children: [\"Score: \", score]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"level-display\",\n      children: [\"Level: \", difficulty]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(AWSArchitectureDisplay, {\n      architecture: architecture,\n      missingServices: (currentQuestion === null || currentQuestion === void 0 ? void 0 : currentQuestion.missingServices) || [],\n      onServiceClick: handleServiceSelection\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(ServiceOptionsPanel, {\n      options: serviceOptions,\n      onSelect: handleServiceSelection,\n      isLoading: isLoading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, _this);\n};\n_s(AWSArchitectureGame, \"PYg1/lwzjhBZab3J8Z0noV8XaFY=\");\n_c = AWSArchitectureGame;\nexport default AWSArchitectureGame;\nvar _c;\n$RefreshReg$(_c, \"AWSArchitectureGame\");","map":{"version":3,"names":["React","useState","useEffect","DndProvider","HTML5Backend","generateArchitecture","AWSArchitectureDisplay","ServiceOptionsPanel","jsxDEV","_jsxDEV","AWSArchitectureGame","_s","_useState","_useState2","_slicedToArray","architecture","setArchitecture","_useState3","_useState4","currentQuestion","setCurrentQuestion","_useState5","_useState6","serviceOptions","setServiceOptions","_useState7","_useState8","score","setScore","_useState9","_useState10","difficulty","setDifficulty","_useState11","_useState12","isLoading","setIsLoading","loadNextArchitecture","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","data","wrap","_callee$","_context","prev","next","sent","question","options","t0","console","error","finish","stop","apply","arguments","handleServiceSelection","_ref2","_callee2","selectedService","_callee2$","_context2","missingServices","includes","_x","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_this","onServiceClick","onSelect","_c","$RefreshReg$"],"sources":["/Users/eimis/test-server/react_projects/cloud-architecture-game/src/components/AWSArchitectureGame.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { DndProvider } from 'react-dnd';\nimport { HTML5Backend } from 'react-dnd-html5-backend';\nimport { generateArchitecture } from '../services/AWSArchitectureAI';\nimport AWSArchitectureDisplay from './AWSArchitectureDisplay';\nimport ServiceOptionsPanel from './ServiceOptionsPanel';\n\nconst AWSArchitectureGame = () => {\n  const [architecture, setArchitecture] = useState(null);\n  const [currentQuestion, setCurrentQuestion] = useState(null);\n  const [serviceOptions, setServiceOptions] = useState([]);\n  const [score, setScore] = useState(0);\n  const [difficulty, setDifficulty] = useState('BEGINNER');\n  const [isLoading, setIsLoading] = useState(true);\n\n  useEffect(() => {\n    loadNextArchitecture();\n  }, [difficulty]);\n\n  const loadNextArchitecture = async () => {\n    setIsLoading(true);\n    try {\n      const data = await generateArchitecture(difficulty);\n      setArchitecture(data.architecture);\n      setCurrentQuestion(data.question);\n      setServiceOptions(data.options);\n    } catch (error) {\n      console.error('Failed to load architecture:', error);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleServiceSelection = async (selectedService) => {\n    if (currentQuestion?.missingServices.includes(selectedService)) {\n      setScore(prev => prev + 1);\n      await loadNextArchitecture();\n    }\n  };\n\n  return (\n    <div className=\"game-container\">\n      <div className=\"score-display\">Score: {score}</div>\n      <div className=\"level-display\">Level: {difficulty}</div>\n      \n      <AWSArchitectureDisplay \n        architecture={architecture}\n        missingServices={currentQuestion?.missingServices || []}\n        onServiceClick={handleServiceSelection}\n      />\n      \n      <ServiceOptionsPanel \n        options={serviceOptions}\n        onSelect={handleServiceSelection}\n        isLoading={isLoading}\n      />\n    </div>\n  );\n};\n\nexport default AWSArchitectureGame; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
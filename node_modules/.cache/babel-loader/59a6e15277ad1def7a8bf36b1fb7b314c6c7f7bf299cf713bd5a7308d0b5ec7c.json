{"ast":null,"code":"var _jsxFileName = \"/Users/eimis/test-server/Azure Hackthons/azure-cloud-architecture-game /src/components/IconsSelectCategoryFast.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport '../styles/GameCanvas.css';\nimport { getCategoryIcons, getRandomCategory } from '../utils/categorySelectionUtils';\nimport { getServiceIconUrl } from '../utils/memoryGameUtils';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst IconsSelectCategoryFast = () => {\n  _s();\n  // Game state\n  const [currentCategory, setCurrentCategory] = useState('');\n  const [displayCategory, setDisplayCategory] = useState('');\n  const [icons, setIcons] = useState([]);\n  const [selectedIcons, setSelectedIcons] = useState([]);\n  const [correctSelections, setCorrectSelections] = useState(0);\n  const [timeElapsed, setTimeElapsed] = useState(0);\n  const [score, setScore] = useState(0);\n  const [gameStarted, setGameStarted] = useState(false);\n  const [roundComplete, setRoundComplete] = useState(false);\n  const [gameOver, setGameOver] = useState(false);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [playerName, setPlayerName] = useState('');\n  const [showWelcome, setShowWelcome] = useState(true);\n  const [highScores, setHighScores] = useState([{\n    name: 'Eimis',\n    score: 108\n  }, {\n    name: 'Eimis',\n    score: 85\n  }, {\n    name: 'Eimis',\n    score: 52\n  }, {\n    name: 'dd',\n    score: 41\n  }, {\n    name: 'Eimis',\n    score: 39\n  }]);\n  const TIME_LIMIT = 60; // 60 seconds time limit per round\n\n  // Sound state\n  const [soundsLoaded, setSoundsLoaded] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const sounds = useRef({});\n\n  // Game container ref\n  const gameContainerRef = useRef(null);\n  const timerRef = useRef(null);\n  const categoryIconsRef = useRef([]);\n\n  // Define sound files\n  const soundFiles = {\n    select: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/flip-switch.mp3`,\n    correct: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/correct_sound.mp3`,\n    incorrect: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/incorrect_sound.mp3`,\n    hover: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/hover.mp3`,\n    achievement: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/levelup.mp3`\n  };\n\n  // Helper function to check if a score is high enough to be in the high scores\n  const checkHighScore = useCallback(newScore => {\n    if (highScores.length < 5 || newScore > highScores[highScores.length - 1].score) {\n      // Add the new score\n      const newHighScores = [...highScores, {\n        name: playerName || 'Player',\n        score: newScore\n      }];\n\n      // Sort and limit to top 5\n      newHighScores.sort((a, b) => b.score - a.score);\n      if (newHighScores.length > 5) {\n        newHighScores.pop();\n      }\n      setHighScores(newHighScores);\n      return true;\n    }\n    return false;\n  }, [highScores, playerName]);\n\n  // Helper function to safely create audio objects with timeout\n  const createSafeAudio = useCallback(path => {\n    const audio = new Audio();\n    return new Promise(resolve => {\n      audio.addEventListener('error', () => {\n        console.warn(`Sound file not found: ${path}`);\n        resolve(null);\n      });\n      audio.addEventListener('canplaythrough', () => {\n        resolve(audio);\n      });\n      // Timeout fallback in case sound loading takes too long\n      setTimeout(() => {\n        if (audio.readyState < 3) {\n          console.warn(`Sound loading timeout: ${path}`);\n          resolve(null);\n        }\n      }, 3000);\n      audio.src = path;\n    });\n  }, []);\n\n  // Load all sounds\n  useEffect(() => {\n    const loadSounds = async () => {\n      const soundPromises = Object.entries(soundFiles).map(async ([name, path]) => {\n        try {\n          const audio = await createSafeAudio(path);\n          return [name, audio];\n        } catch (error) {\n          console.error(`Failed to load sound ${name}:`, error);\n          return [name, null];\n        }\n      });\n      try {\n        const loadedSounds = await Promise.all(soundPromises);\n        const soundsMap = Object.fromEntries(loadedSounds);\n        sounds.current = soundsMap;\n\n        // Check if at least some sounds loaded successfully\n        const hasLoadedSounds = Object.values(soundsMap).some(sound => sound !== null);\n        setSoundsLoaded(hasLoadedSounds);\n        if (hasLoadedSounds) {\n          console.log('üîä Sounds loaded successfully');\n        } else {\n          console.warn('‚ö†Ô∏è No sounds could be loaded');\n        }\n      } catch (error) {\n        console.error('Failed to load sounds:', error);\n      }\n    };\n    loadSounds();\n  }, [createSafeAudio]);\n\n  // Toggle mute\n  const toggleMute = useCallback(() => {\n    setIsMuted(!isMuted);\n  }, [isMuted]);\n\n  // Play a sound effect\n  const playSound = useCallback(soundName => {\n    if (isMuted || !sounds.current[soundName]) return;\n    const sound = sounds.current[soundName];\n    sound.currentTime = 0;\n    sound.play().catch(err => console.warn('Error playing sound:', err));\n  }, [isMuted]);\n\n  // First, define the initGame function without any dependencies to other functions\n  const initGame = useCallback(() => {\n    const {\n      category,\n      displayName,\n      icons: allIcons,\n      targetIcons\n    } = getRandomCategory();\n    setCurrentCategory(category);\n    setDisplayCategory(displayName);\n    setIcons(allIcons);\n    categoryIconsRef.current = targetIcons;\n    setSelectedIcons([]);\n    setCorrectSelections(0);\n    setTimeElapsed(0);\n    setRoundComplete(false);\n    setGameOver(false);\n    setGameStarted(true);\n\n    // Clear any existing timer\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n\n    // Start timer\n    const startTime = Date.now();\n    timerRef.current = setInterval(() => {\n      const newTime = Math.floor((Date.now() - startTime) / 1000);\n      setTimeElapsed(newTime);\n\n      // Check if time has run out\n      if (newTime >= TIME_LIMIT) {\n        // Handle timer expiry directly in the interval callback\n        if (timerRef.current) {\n          clearInterval(timerRef.current);\n        }\n        if (!roundComplete) {\n          setGameOver(true);\n          playSound('incorrect');\n        }\n      }\n    }, 1000);\n    console.log(`Starting new round with category: ${displayName}`);\n    console.log(`Target icons:`, targetIcons);\n  }, []);\n\n  // Next, define nextCategory with only initGame dependency\n  const nextCategory = useCallback(() => {\n    // Stop any confetti\n    setShowConfetti(false);\n\n    // Reset game state for next round\n    setGameOver(false);\n    initGame();\n\n    // Play sound effect\n    playSound('select');\n  }, [initGame, playSound]);\n\n  // Then, define handleRoundComplete\n  const handleRoundComplete = useCallback(() => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    setRoundComplete(true);\n    setShowConfetti(true);\n    playSound('achievement');\n\n    // Calculate score based on time\n    const timeBonus = Math.max(100 - timeElapsed * 2, 10); // More points for faster completion\n    const newScore = score + timeBonus + categoryIconsRef.current.length * 5;\n    setScore(newScore);\n\n    // Check if it's a high score\n    checkHighScore(newScore);\n  }, [timeElapsed, playSound, score, checkHighScore]);\n\n  // Use an effect for auto-advancing to next category\n  useEffect(() => {\n    let timer;\n    if (roundComplete || gameOver) {\n      timer = setTimeout(() => {\n        nextCategory();\n      }, 3000);\n    }\n    return () => {\n      if (timer) clearTimeout(timer);\n    };\n  }, [roundComplete, gameOver, nextCategory]);\n\n  // Handle card click\n  const handleCardClick = icon => {\n    playSound('select');\n    if (selectedIcons.includes(icon)) {\n      // If already selected, deselect it\n      setSelectedIcons(prev => prev.filter(i => i !== icon));\n      if (categoryIconsRef.current.includes(icon)) {\n        setCorrectSelections(prev => prev - 1);\n      }\n    } else {\n      // If not selected, select it\n      setSelectedIcons(prev => [...prev, icon]);\n      if (categoryIconsRef.current.includes(icon)) {\n        // Correct selection\n        const newCorrectSelections = correctSelections + 1;\n        setCorrectSelections(newCorrectSelections);\n        playSound('correct');\n\n        // Check if all correct icons are selected\n        if (newCorrectSelections === categoryIconsRef.current.length) {\n          handleRoundComplete();\n        }\n      } else {\n        // Incorrect selection\n        playSound('incorrect');\n        setScore(prev => Math.max(0, prev - 5)); // Penalty for wrong selection\n      }\n    }\n  };\n\n  // Handle player name input and start game\n  const handleStartGame = () => {\n    setShowWelcome(false);\n    setGameStarted(true);\n    initGame();\n  };\n\n  // Start the game when component mounts\n  useEffect(() => {\n    // Only auto-start if we're not showing the welcome screen\n    if (!showWelcome) {\n      initGame();\n    }\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [initGame, showWelcome]);\n\n  // Format time for display\n  const formatTime = seconds => {\n    return `Time: ${seconds}s`;\n  };\n\n  // Welcome screen component\n  const WelcomeScreen = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gameCanvas-welcome\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"gameCanvas-game-title\",\n        children: \"Azure Category Challenge\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gameCanvas-welcome-content\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Welcome to the Category Challenge!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 295,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Select all icons that belong to the displayed category as quickly as possible.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 296,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameCanvas-welcome-input\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"playerName\",\n            children: \"Enter your nickname:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 299,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            id: \"playerName\",\n            value: playerName,\n            onChange: e => setPlayerName(e.target.value),\n            placeholder: \"Your nickname\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 300,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"gameCanvas-start-button\",\n          onClick: handleStartGame,\n          children: \"Start Game\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 309,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 294,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 291,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Player panel component\n  const PlayerPanel = () => {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gameCanvas-side-panel\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gameCanvas-player-info\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameCanvas-player-name\",\n          children: [\"PLAYER: \", playerName || 'Player']\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 325,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameCanvas-score\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            role: \"img\",\n            \"aria-label\": \"Trophy\",\n            children: \"\\uD83C\\uDFC6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), \" Score: \", score]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameCanvas-timer\",\n          children: [\"TIME: \", `${timeElapsed}s`]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 333,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 324,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gameCanvas-how-to-score\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"HOW TO SCORE:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 339,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u2022 Correct selection: +5 points\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 341,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u2022 Time bonus: up to +100 points\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 342,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: \"\\u2022 Wrong selection: -5 points\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 343,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: [\"\\u2022 Current progress: \", correctSelections, \" out of \", categoryIconsRef.current.length]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 344,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 340,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 338,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gameCanvas-high-scores\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"HIGH SCORES\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 349,\n          columnNumber: 11\n        }, this), highScores.map((entry, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameCanvas-high-score-entry\",\n          children: [/*#__PURE__*/_jsxDEV(\"span\", {\n            children: [entry.name, \":\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 352,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: entry.score\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 353,\n            columnNumber: 15\n          }, this)]\n        }, index, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 348,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gameCanvas-current-mission\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"CURRENT MISSION\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 359,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameCanvas-mission-text\",\n          children: [\"Find all \", displayCategory, \" icons!\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 358,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 323,\n      columnNumber: 7\n    }, this);\n  };\n\n  // Confetti component\n  const Confetti = ({\n    active\n  }) => {\n    if (!active) return null;\n    const confettiCount = 150;\n    const confetti = [];\n    for (let i = 0; i < confettiCount; i++) {\n      const left = `${Math.random() * 100}%`;\n      const animationDelay = `${Math.random() * 5}s`;\n      const initialOpacity = Math.random();\n      const size = `${Math.random() * 10 + 5}px`;\n      const rotation = `${Math.random() * 360}deg`;\n      const color = ['#00ffff',\n      // Cyan (Azure color)\n      '#0078d4',\n      // Blue (Azure color)\n      '#ffb900',\n      // Gold\n      '#e74c3c',\n      // Red\n      '#2ecc71',\n      // Green\n      '#9b59b6',\n      // Purple\n      '#3498db' // Light blue\n      ][Math.floor(Math.random() * 7)];\n      confetti.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"memory-confetti-particle\",\n        style: {\n          left,\n          top: '-10px',\n          width: size,\n          height: size,\n          backgroundColor: color,\n          transform: `rotate(${rotation})`,\n          opacity: initialOpacity,\n          animationDelay\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 392,\n        columnNumber: 9\n      }, this));\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"memory-confetti-container\",\n      children: confetti\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 409,\n      columnNumber: 12\n    }, this);\n  };\n\n  // Main render function\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"gameCanvas-container\",\n    ref: gameContainerRef,\n    children: showWelcome ? /*#__PURE__*/_jsxDEV(WelcomeScreen, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 419,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(React.Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(Confetti, {\n        active: showConfetti\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"gameCanvas-game-title\",\n        style: {\n          '--azure-icon': `url(${process.env.PUBLIC_URL}/azure-icons/Microsoft_Azure_Cyan.svg)`\n        },\n        children: \"zure Category Challenge\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 424,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gameCanvas-game-with-panel\",\n        children: [/*#__PURE__*/_jsxDEV(PlayerPanel, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 432,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameCanvas-canvas-wrapper\",\n          style: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            justifyContent: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"category-selection-header\",\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"category-selection-instruction\",\n              children: [\"Select all the cards which belong to the category: \", /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"category-highlight\",\n                children: displayCategory\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 70\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 435,\n            columnNumber: 15\n          }, this), soundsLoaded && /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"memory-game-sound-toggle top-right\",\n            onClick: toggleMute,\n            \"aria-label\": \"Toggle sound\",\n            children: isMuted ? 'üîá' : 'üîä'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 442,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"category-selection-grid\",\n            children: icons.map((icon, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `category-selection-card ${selectedIcons.includes(icon.name) ? categoryIconsRef.current.includes(icon.name) ? 'correct' : 'wrong' : ''}`,\n              onClick: () => handleCardClick(icon.name),\n              onMouseEnter: () => playSound('hover'),\n              children: [/*#__PURE__*/_jsxDEV(\"img\", {\n                src: getServiceIconUrl(icon.path),\n                alt: icon.name,\n                onError: e => {\n                  e.target.onerror = null;\n                  e.target.src = `${process.env.PUBLIC_URL}/azure-icons/default.svg`;\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 460,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"category-selection-card-text\",\n                children: icon.name\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 468,\n                columnNumber: 21\n              }, this)]\n            }, `${icon.name}-${index}`, true, {\n              fileName: _jsxFileName,\n              lineNumber: 453,\n              columnNumber: 19\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 451,\n            columnNumber: 15\n          }, this), roundComplete && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"category-selection-success\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: [\"Great job! You found all \", categoryIconsRef.current.length, \" icons in \", timeElapsed, \" seconds.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 475,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"You earned \", Math.max(100 - timeElapsed * 2, 10), \" points!\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 474,\n            columnNumber: 17\n          }, this), gameOver && !roundComplete && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"category-selection-failure-banner\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"Time's up!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"You found \", correctSelections, \" out of \", categoryIconsRef.current.length, \" icons.\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 484,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Looking for: \", categoryIconsRef.current.join(', ')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 485,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 482,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 434,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 431,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 414,\n    columnNumber: 5\n  }, this);\n};\n_s(IconsSelectCategoryFast, \"skOd+b/F8p0i95M1eINhYCEdguo=\");\n_c = IconsSelectCategoryFast;\nexport default IconsSelectCategoryFast;\nvar _c;\n$RefreshReg$(_c, \"IconsSelectCategoryFast\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","getCategoryIcons","getRandomCategory","getServiceIconUrl","jsxDEV","_jsxDEV","IconsSelectCategoryFast","_s","currentCategory","setCurrentCategory","displayCategory","setDisplayCategory","icons","setIcons","selectedIcons","setSelectedIcons","correctSelections","setCorrectSelections","timeElapsed","setTimeElapsed","score","setScore","gameStarted","setGameStarted","roundComplete","setRoundComplete","gameOver","setGameOver","showConfetti","setShowConfetti","playerName","setPlayerName","showWelcome","setShowWelcome","highScores","setHighScores","name","TIME_LIMIT","soundsLoaded","setSoundsLoaded","isMuted","setIsMuted","sounds","gameContainerRef","timerRef","categoryIconsRef","soundFiles","select","process","env","REACT_APP_AZURE_BUCKET_URL","correct","incorrect","hover","achievement","checkHighScore","newScore","length","newHighScores","sort","a","b","pop","createSafeAudio","path","audio","Audio","Promise","resolve","addEventListener","console","warn","setTimeout","readyState","src","loadSounds","soundPromises","Object","entries","map","error","loadedSounds","all","soundsMap","fromEntries","current","hasLoadedSounds","values","some","sound","log","toggleMute","playSound","soundName","currentTime","play","catch","err","initGame","category","displayName","allIcons","targetIcons","clearInterval","startTime","Date","now","setInterval","newTime","Math","floor","nextCategory","handleRoundComplete","timeBonus","max","timer","clearTimeout","handleCardClick","icon","includes","prev","filter","i","newCorrectSelections","handleStartGame","formatTime","seconds","WelcomeScreen","className","children","fileName","_jsxFileName","lineNumber","columnNumber","htmlFor","type","id","value","onChange","e","target","placeholder","onClick","PlayerPanel","role","entry","index","Confetti","active","confettiCount","confetti","left","random","animationDelay","initialOpacity","size","rotation","color","push","style","top","width","height","backgroundColor","transform","opacity","ref","Fragment","PUBLIC_URL","display","flexDirection","alignItems","justifyContent","onMouseEnter","alt","onError","onerror","join","_c","$RefreshReg$"],"sources":["/Users/eimis/test-server/Azure Hackthons/azure-cloud-architecture-game /src/components/IconsSelectCategoryFast.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport '../styles/GameCanvas.css';\nimport { getCategoryIcons, getRandomCategory } from '../utils/categorySelectionUtils';\nimport { getServiceIconUrl } from '../utils/memoryGameUtils';\n\nconst IconsSelectCategoryFast = () => {\n  // Game state\n  const [currentCategory, setCurrentCategory] = useState('');\n  const [displayCategory, setDisplayCategory] = useState('');\n  const [icons, setIcons] = useState([]);\n  const [selectedIcons, setSelectedIcons] = useState([]);\n  const [correctSelections, setCorrectSelections] = useState(0);\n  const [timeElapsed, setTimeElapsed] = useState(0);\n  const [score, setScore] = useState(0);\n  const [gameStarted, setGameStarted] = useState(false);\n  const [roundComplete, setRoundComplete] = useState(false);\n  const [gameOver, setGameOver] = useState(false);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [playerName, setPlayerName] = useState('');\n  const [showWelcome, setShowWelcome] = useState(true);\n  const [highScores, setHighScores] = useState([\n    { name: 'Eimis', score: 108 },\n    { name: 'Eimis', score: 85 },\n    { name: 'Eimis', score: 52 },\n    { name: 'dd', score: 41 },\n    { name: 'Eimis', score: 39 }\n  ]);\n  const TIME_LIMIT = 60; // 60 seconds time limit per round\n  \n  // Sound state\n  const [soundsLoaded, setSoundsLoaded] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const sounds = useRef({});\n  \n  // Game container ref\n  const gameContainerRef = useRef(null);\n  const timerRef = useRef(null);\n  const categoryIconsRef = useRef([]);\n\n  // Define sound files\n  const soundFiles = {\n    select: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/flip-switch.mp3`,\n    correct: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/correct_sound.mp3`,\n    incorrect: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/incorrect_sound.mp3`,\n    hover: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/hover.mp3`,\n    achievement: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/levelup.mp3`\n  };\n\n  // Helper function to check if a score is high enough to be in the high scores\n  const checkHighScore = useCallback((newScore) => {\n    if (highScores.length < 5 || newScore > highScores[highScores.length - 1].score) {\n      // Add the new score\n      const newHighScores = [...highScores, { name: playerName || 'Player', score: newScore }];\n      \n      // Sort and limit to top 5\n      newHighScores.sort((a, b) => b.score - a.score);\n      if (newHighScores.length > 5) {\n        newHighScores.pop();\n      }\n      \n      setHighScores(newHighScores);\n      return true;\n    }\n    return false;\n  }, [highScores, playerName]);\n\n  // Helper function to safely create audio objects with timeout\n  const createSafeAudio = useCallback((path) => {\n    const audio = new Audio();\n    return new Promise((resolve) => {\n      audio.addEventListener('error', () => {\n        console.warn(`Sound file not found: ${path}`);\n        resolve(null);\n      });\n      audio.addEventListener('canplaythrough', () => {\n        resolve(audio);\n      });\n      // Timeout fallback in case sound loading takes too long\n      setTimeout(() => {\n        if (audio.readyState < 3) {\n          console.warn(`Sound loading timeout: ${path}`);\n          resolve(null);\n        }\n      }, 3000);\n      audio.src = path;\n    });\n  }, []);\n\n  // Load all sounds\n  useEffect(() => {\n    const loadSounds = async () => {\n      const soundPromises = Object.entries(soundFiles).map(async ([name, path]) => {\n        try {\n          const audio = await createSafeAudio(path);\n          return [name, audio];\n        } catch (error) {\n          console.error(`Failed to load sound ${name}:`, error);\n          return [name, null];\n        }\n      });\n\n      try {\n        const loadedSounds = await Promise.all(soundPromises);\n        const soundsMap = Object.fromEntries(loadedSounds);\n        sounds.current = soundsMap;\n        \n        // Check if at least some sounds loaded successfully\n        const hasLoadedSounds = Object.values(soundsMap).some(sound => sound !== null);\n        setSoundsLoaded(hasLoadedSounds);\n        \n        if (hasLoadedSounds) {\n          console.log('üîä Sounds loaded successfully');\n        } else {\n          console.warn('‚ö†Ô∏è No sounds could be loaded');\n        }\n      } catch (error) {\n        console.error('Failed to load sounds:', error);\n      }\n    };\n\n    loadSounds();\n  }, [createSafeAudio]);\n  \n  // Toggle mute\n  const toggleMute = useCallback(() => {\n    setIsMuted(!isMuted);\n  }, [isMuted]);\n\n  // Play a sound effect\n  const playSound = useCallback(\n    (soundName) => {\n      if (isMuted || !sounds.current[soundName]) return;\n      const sound = sounds.current[soundName];\n      sound.currentTime = 0;\n      sound.play().catch(err => console.warn('Error playing sound:', err));\n    },\n    [isMuted]\n  );\n\n  // First, define the initGame function without any dependencies to other functions\n  const initGame = useCallback(() => {\n    const { category, displayName, icons: allIcons, targetIcons } = getRandomCategory();\n    \n    setCurrentCategory(category);\n    setDisplayCategory(displayName);\n    setIcons(allIcons);\n    categoryIconsRef.current = targetIcons;\n    setSelectedIcons([]);\n    setCorrectSelections(0);\n    setTimeElapsed(0);\n    setRoundComplete(false);\n    setGameOver(false);\n    setGameStarted(true);\n    \n    // Clear any existing timer\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    \n    // Start timer\n    const startTime = Date.now();\n    timerRef.current = setInterval(() => {\n      const newTime = Math.floor((Date.now() - startTime) / 1000);\n      setTimeElapsed(newTime);\n      \n      // Check if time has run out\n      if (newTime >= TIME_LIMIT) {\n        // Handle timer expiry directly in the interval callback\n        if (timerRef.current) {\n          clearInterval(timerRef.current);\n        }\n        \n        if (!roundComplete) {\n          setGameOver(true);\n          playSound('incorrect');\n        }\n      }\n    }, 1000);\n    \n    console.log(`Starting new round with category: ${displayName}`);\n    console.log(`Target icons:`, targetIcons);\n  }, []);\n\n  // Next, define nextCategory with only initGame dependency\n  const nextCategory = useCallback(() => {\n    // Stop any confetti\n    setShowConfetti(false);\n    \n    // Reset game state for next round\n    setGameOver(false);\n    initGame();\n    \n    // Play sound effect\n    playSound('select');\n  }, [initGame, playSound]);\n\n  // Then, define handleRoundComplete\n  const handleRoundComplete = useCallback(() => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    \n    setRoundComplete(true);\n    setShowConfetti(true);\n    playSound('achievement');\n    \n    // Calculate score based on time\n    const timeBonus = Math.max(100 - timeElapsed * 2, 10); // More points for faster completion\n    const newScore = score + timeBonus + (categoryIconsRef.current.length * 5);\n    setScore(newScore);\n    \n    // Check if it's a high score\n    checkHighScore(newScore);\n  }, [timeElapsed, playSound, score, checkHighScore]);\n\n  // Use an effect for auto-advancing to next category\n  useEffect(() => {\n    let timer;\n    \n    if (roundComplete || gameOver) {\n      timer = setTimeout(() => {\n        nextCategory();\n      }, 3000);\n    }\n    \n    return () => {\n      if (timer) clearTimeout(timer);\n    };\n  }, [roundComplete, gameOver, nextCategory]);\n\n  // Handle card click\n  const handleCardClick = (icon) => {\n    playSound('select');\n    \n    if (selectedIcons.includes(icon)) {\n      // If already selected, deselect it\n      setSelectedIcons(prev => prev.filter(i => i !== icon));\n      if (categoryIconsRef.current.includes(icon)) {\n        setCorrectSelections(prev => prev - 1);\n      }\n    } else {\n      // If not selected, select it\n      setSelectedIcons(prev => [...prev, icon]);\n      \n      if (categoryIconsRef.current.includes(icon)) {\n        // Correct selection\n        const newCorrectSelections = correctSelections + 1;\n        setCorrectSelections(newCorrectSelections);\n        playSound('correct');\n        \n        // Check if all correct icons are selected\n        if (newCorrectSelections === categoryIconsRef.current.length) {\n          handleRoundComplete();\n        }\n      } else {\n        // Incorrect selection\n        playSound('incorrect');\n        setScore(prev => Math.max(0, prev - 5)); // Penalty for wrong selection\n      }\n    }\n  };\n\n  // Handle player name input and start game\n  const handleStartGame = () => {\n    setShowWelcome(false);\n    setGameStarted(true);\n    initGame();\n  };\n\n  // Start the game when component mounts\n  useEffect(() => {\n    // Only auto-start if we're not showing the welcome screen\n    if (!showWelcome) {\n      initGame();\n    }\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [initGame, showWelcome]);\n\n  // Format time for display\n  const formatTime = (seconds) => {\n    return `Time: ${seconds}s`;\n  };\n\n  // Welcome screen component\n  const WelcomeScreen = () => {\n    return (\n      <div className=\"gameCanvas-welcome\">\n        <h1 className=\"gameCanvas-game-title\">Azure Category Challenge</h1>\n        \n        <div className=\"gameCanvas-welcome-content\">\n          <h2>Welcome to the Category Challenge!</h2>\n          <p>Select all icons that belong to the displayed category as quickly as possible.</p>\n          \n          <div className=\"gameCanvas-welcome-input\">\n            <label htmlFor=\"playerName\">Enter your nickname:</label>\n            <input \n              type=\"text\" \n              id=\"playerName\" \n              value={playerName} \n              onChange={(e) => setPlayerName(e.target.value)}\n              placeholder=\"Your nickname\"\n            />\n          </div>\n          \n          <button \n            className=\"gameCanvas-start-button\"\n            onClick={handleStartGame}\n          >\n            Start Game\n          </button>\n        </div>\n      </div>\n    );\n  };\n\n  // Player panel component\n  const PlayerPanel = () => {\n    return (\n      <div className=\"gameCanvas-side-panel\">\n        <div className=\"gameCanvas-player-info\">\n          <div className=\"gameCanvas-player-name\">\n            PLAYER: {playerName || 'Player'}\n          </div>\n          \n          <div className=\"gameCanvas-score\">\n            <span role=\"img\" aria-label=\"Trophy\">üèÜ</span> Score: {score}\n          </div>\n          \n          <div className=\"gameCanvas-timer\">\n            TIME: {`${timeElapsed}s`}\n          </div>\n        </div>\n        \n        <div className=\"gameCanvas-how-to-score\">\n          <h3>HOW TO SCORE:</h3>\n          <ul>\n            <li>‚Ä¢ Correct selection: +5 points</li>\n            <li>‚Ä¢ Time bonus: up to +100 points</li>\n            <li>‚Ä¢ Wrong selection: -5 points</li>\n            <li>‚Ä¢ Current progress: {correctSelections} out of {categoryIconsRef.current.length}</li>\n          </ul>\n        </div>\n        \n        <div className=\"gameCanvas-high-scores\">\n          <h3>HIGH SCORES</h3>\n          {highScores.map((entry, index) => (\n            <div key={index} className=\"gameCanvas-high-score-entry\">\n              <span>{entry.name}:</span>\n              <span>{entry.score}</span>\n            </div>\n          ))}\n        </div>\n        \n        <div className=\"gameCanvas-current-mission\">\n          <h3>CURRENT MISSION</h3>\n          <div className=\"gameCanvas-mission-text\">\n            Find all {displayCategory} icons!\n          </div>\n        </div>\n      </div>\n    );\n  };\n\n  // Confetti component\n  const Confetti = ({ active }) => {\n    if (!active) return null;\n    \n    const confettiCount = 150;\n    const confetti = [];\n    \n    for (let i = 0; i < confettiCount; i++) {\n      const left = `${Math.random() * 100}%`;\n      const animationDelay = `${Math.random() * 5}s`;\n      const initialOpacity = Math.random();\n      const size = `${Math.random() * 10 + 5}px`;\n      const rotation = `${Math.random() * 360}deg`;\n      const color = [\n        '#00ffff', // Cyan (Azure color)\n        '#0078d4', // Blue (Azure color)\n        '#ffb900', // Gold\n        '#e74c3c', // Red\n        '#2ecc71', // Green\n        '#9b59b6', // Purple\n        '#3498db', // Light blue\n      ][Math.floor(Math.random() * 7)];\n      \n      confetti.push(\n        <div \n          key={i}\n          className=\"memory-confetti-particle\"\n          style={{\n            left,\n            top: '-10px',\n            width: size,\n            height: size,\n            backgroundColor: color,\n            transform: `rotate(${rotation})`,\n            opacity: initialOpacity,\n            animationDelay,\n          }}\n        />\n      );\n    }\n    \n    return <div className=\"memory-confetti-container\">{confetti}</div>;\n  };\n\n  // Main render function\n  return (\n    <div \n      className=\"gameCanvas-container\" \n      ref={gameContainerRef}\n    >\n      {showWelcome ? (\n        <WelcomeScreen />\n      ) : (\n        <React.Fragment>\n          <Confetti active={showConfetti} />\n\n          <h1 \n            className=\"gameCanvas-game-title\"\n            style={{ '--azure-icon': `url(${process.env.PUBLIC_URL}/azure-icons/Microsoft_Azure_Cyan.svg)` }}\n          >\n            zure Category Challenge\n          </h1>\n          \n          <div className=\"gameCanvas-game-with-panel\">\n            <PlayerPanel />\n            \n            <div className=\"gameCanvas-canvas-wrapper\" style={{ display: 'flex', flexDirection: 'column', alignItems: 'center', justifyContent: 'center' }}>\n              <div className=\"category-selection-header\">\n                <h2 className=\"category-selection-instruction\">\n                  Select all the cards which belong to the category: <span className=\"category-highlight\">{displayCategory}</span>\n                </h2>\n              </div>\n              \n              {soundsLoaded && (\n                <button \n                  className=\"memory-game-sound-toggle top-right\"\n                  onClick={toggleMute}\n                  aria-label=\"Toggle sound\"\n                >\n                  {isMuted ? 'üîá' : 'üîä'}\n                </button>\n              )}\n              \n              <div className=\"category-selection-grid\">\n                {icons.map((icon, index) => (\n                  <div\n                    key={`${icon.name}-${index}`}\n                    className={`category-selection-card ${selectedIcons.includes(icon.name) ? \n                      (categoryIconsRef.current.includes(icon.name) ? 'correct' : 'wrong') : ''}`}\n                    onClick={() => handleCardClick(icon.name)}\n                    onMouseEnter={() => playSound('hover')}\n                  >\n                    <img \n                      src={getServiceIconUrl(icon.path)} \n                      alt={icon.name} \n                      onError={(e) => {\n                        e.target.onerror = null;\n                        e.target.src = `${process.env.PUBLIC_URL}/azure-icons/default.svg`;\n                      }}\n                    />\n                    <div className=\"category-selection-card-text\">{icon.name}</div>\n                  </div>\n                ))}\n              </div>\n              \n              {roundComplete && (\n                <div className=\"category-selection-success\">\n                  <h3>Great job! You found all {categoryIconsRef.current.length} icons in {timeElapsed} seconds.</h3>\n                  <p>You earned {Math.max(100 - timeElapsed * 2, 10)} points!</p>\n                </div>\n              )}\n              \n              {/* Add a message about missed selections when the round is complete */}\n              {gameOver && !roundComplete && (\n                <div className=\"category-selection-failure-banner\">\n                  <h3>Time's up!</h3>\n                  <p>You found {correctSelections} out of {categoryIconsRef.current.length} icons.</p>\n                  <p>Looking for: {categoryIconsRef.current.join(', ')}</p>\n                </div>\n              )}\n            </div>\n          </div>\n        </React.Fragment>\n      )}\n    </div>\n  );\n};\n\nexport default IconsSelectCategoryFast; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
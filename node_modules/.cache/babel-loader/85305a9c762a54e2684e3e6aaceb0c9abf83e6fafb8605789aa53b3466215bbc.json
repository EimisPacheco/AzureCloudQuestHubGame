{"ast":null,"code":"import { SERVICE_MAPPINGS } from '../services/IconResolver';\n\n// Define the Azure function URL\nconst SERVICES_FUNCTION_URL = 'https://generate-architecture.azurewebsites.net/api/service_name_and_definition?code=m1xuLcGam3TakRjuVfUFSW34yqefO4Ie30XbgSHn1mRyAzFuJtjPgQ==';\n\n// Replace the hardcoded SERVICE_DEFINITIONS with a function to fetch from Azure Function\nlet cachedDefinitions = null;\nexport const getServiceDefinitions = async () => {\n  console.log('🔄 Fetching service definitions...');\n\n  // Use cached data if available to prevent unnecessary API calls\n  if (cachedDefinitions) {\n    console.log('📋 Using cached definitions:', cachedDefinitions.length, 'items');\n    return cachedDefinitions;\n  }\n  try {\n    console.log('🌐 Calling Azure Function:', SERVICES_FUNCTION_URL);\n\n    // Use fetch instead of axios\n    const response = await fetch(SERVICES_FUNCTION_URL);\n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    const data = await response.json();\n    console.log('📊 Raw Azure Function response:', data);\n    console.log('📊 Response type:', typeof data);\n    console.log('📊 Response is array:', Array.isArray(data));\n    if (Array.isArray(data)) {\n      console.log('📊 First few items:', data.slice(0, 3));\n    }\n\n    // Format the data to match your expected structure\n    const formattedData = data.map(item => {\n      const serviceData = {\n        name: item.service,\n        definition: item.description,\n        path: `/azure-icons/services/${item.service.toLowerCase().replace(/\\s+/g, '-')}.svg`\n      };\n      return serviceData;\n    });\n    console.log('🔄 Formatted data examples:', formattedData.slice(0, 3));\n    console.log('✅ Total service definitions:', formattedData.length);\n\n    // Cache the data\n    cachedDefinitions = formattedData;\n    return formattedData;\n  } catch (error) {\n    console.error('❌ Error fetching service definitions:', error);\n    console.error('❌ Error details:', {\n      message: error.message,\n      name: error.name,\n      stack: error.stack\n    });\n\n    // Fallback to hardcoded data in case of error\n    console.log('⚠️ Using fallback data instead');\n    return [{\n      name: \"Kubernetes Services\",\n      definition: \"Simplifies deploying, managing, and scaling containerized applications\",\n      path: \"/azure-icons/services/kubernetes-services.svg\"\n    }, {\n      name: \"Cognitive Services\",\n      definition: \"Adds AI capabilities to applications through pre-built APIs\",\n      path: \"/azure-icons/services/cognitive-services.svg\"\n    }, {\n      name: \"Azure Functions\",\n      definition: \"Event-driven, serverless compute service\",\n      path: \"/azure-icons/services/azure-functions.svg\"\n    }, {\n      name: \"Virtual Machine\",\n      definition: \"Provides on-demand, scalable computing resources\",\n      path: \"/azure-icons/services/virtual-machine.svg\"\n    }, {\n      name: \"Speech Services\",\n      definition: \"Converts speech to text and text to speech with natural sounding voices\",\n      path: \"/azure-icons/services/speech-services.svg\"\n    }, {\n      name: \"Bot Services\",\n      definition: \"Intelligent, serverless bot service that scales on demand\",\n      path: \"/azure-icons/services/bot-services.svg\"\n    }, {\n      name: \"Azure OpenAI\",\n      definition: \"Provides access to OpenAI's powerful language models with Azure security\",\n      path: \"/azure-icons/services/azure-openai.svg\"\n    }, {\n      name: \"Face APIs\",\n      definition: \"Detects, recognizes, and analyzes human faces in images\",\n      path: \"/azure-icons/services/face-apis.svg\"\n    }];\n  }\n};\n\n// Update the getRandomServices function to work with async data\nexport const getRandomServices = async (count = 10) => {\n  const allServices = await getServiceDefinitions();\n  const shuffled = [...allServices].sort(() => 0.5 - Math.random());\n  return shuffled.slice(0, count);\n};\n\n// Update other functions that use SERVICE_DEFINITIONS\nexport const getRandomDefinition = async () => {\n  const services = await getServiceDefinitions();\n  const randomIndex = Math.floor(Math.random() * services.length);\n  return {\n    name: services[randomIndex].name,\n    definition: services[randomIndex].definition\n  };\n};\n\n// Check if the game is complete (all definitions matched)\nexport const isGameComplete = (matchedServices, totalServices) => {\n  return matchedServices.length === totalServices;\n};\n\n// Format time as MM:SS\nexport const formatTime = seconds => {\n  const mins = Math.floor(seconds / 60);\n  const secs = seconds % 60;\n  return `${mins < 10 ? '0' : ''}${mins}:${secs < 10 ? '0' : ''}${secs}`;\n};","map":{"version":3,"names":["SERVICE_MAPPINGS","SERVICES_FUNCTION_URL","cachedDefinitions","getServiceDefinitions","console","log","length","response","fetch","ok","Error","status","data","json","Array","isArray","slice","formattedData","map","item","serviceData","name","service","definition","description","path","toLowerCase","replace","error","message","stack","getRandomServices","count","allServices","shuffled","sort","Math","random","getRandomDefinition","services","randomIndex","floor","isGameComplete","matchedServices","totalServices","formatTime","seconds","mins","secs"],"sources":["/Users/eimis/test-server/Azure Hackthons/azure-cloud-architecture-game /src/utils/definitionMatchingUtils.js"],"sourcesContent":["import { SERVICE_MAPPINGS } from '../services/IconResolver';\n\n// Define the Azure function URL\nconst SERVICES_FUNCTION_URL = 'https://generate-architecture.azurewebsites.net/api/service_name_and_definition?code=m1xuLcGam3TakRjuVfUFSW34yqefO4Ie30XbgSHn1mRyAzFuJtjPgQ==';\n\n// Replace the hardcoded SERVICE_DEFINITIONS with a function to fetch from Azure Function\nlet cachedDefinitions = null;\n\nexport const getServiceDefinitions = async () => {\n  console.log('🔄 Fetching service definitions...');\n  \n  // Use cached data if available to prevent unnecessary API calls\n  if (cachedDefinitions) {\n    console.log('📋 Using cached definitions:', cachedDefinitions.length, 'items');\n    return cachedDefinitions;\n  }\n\n  try {\n    console.log('🌐 Calling Azure Function:', SERVICES_FUNCTION_URL);\n    \n    // Use fetch instead of axios\n    const response = await fetch(SERVICES_FUNCTION_URL);\n    \n    if (!response.ok) {\n      throw new Error(`HTTP error! Status: ${response.status}`);\n    }\n    \n    const data = await response.json();\n    \n    console.log('📊 Raw Azure Function response:', data);\n    console.log('📊 Response type:', typeof data);\n    console.log('📊 Response is array:', Array.isArray(data));\n    \n    if (Array.isArray(data)) {\n      console.log('📊 First few items:', data.slice(0, 3));\n    }\n    \n    // Format the data to match your expected structure\n    const formattedData = data.map(item => {\n      const serviceData = {\n        name: item.service,\n        definition: item.description,\n        path: `/azure-icons/services/${item.service.toLowerCase().replace(/\\s+/g, '-')}.svg`\n      };\n      return serviceData;\n    });\n    \n    console.log('🔄 Formatted data examples:', formattedData.slice(0, 3));\n    console.log('✅ Total service definitions:', formattedData.length);\n    \n    // Cache the data\n    cachedDefinitions = formattedData;\n    return formattedData;\n  } catch (error) {\n    console.error('❌ Error fetching service definitions:', error);\n    console.error('❌ Error details:', {\n      message: error.message,\n      name: error.name,\n      stack: error.stack\n    });\n    \n    // Fallback to hardcoded data in case of error\n    console.log('⚠️ Using fallback data instead');\n    return [\n      {\n        name: \"Kubernetes Services\",\n        definition: \"Simplifies deploying, managing, and scaling containerized applications\",\n        path: \"/azure-icons/services/kubernetes-services.svg\"\n      },\n      {\n        name: \"Cognitive Services\",\n        definition: \"Adds AI capabilities to applications through pre-built APIs\",\n        path: \"/azure-icons/services/cognitive-services.svg\"\n      },\n      {\n        name: \"Azure Functions\",\n        definition: \"Event-driven, serverless compute service\",\n        path: \"/azure-icons/services/azure-functions.svg\"\n      },\n      {\n        name: \"Virtual Machine\",\n        definition: \"Provides on-demand, scalable computing resources\",\n        path: \"/azure-icons/services/virtual-machine.svg\"\n      },\n      {\n        name: \"Speech Services\",\n        definition: \"Converts speech to text and text to speech with natural sounding voices\",\n        path: \"/azure-icons/services/speech-services.svg\"\n      },\n      {\n        name: \"Bot Services\",\n        definition: \"Intelligent, serverless bot service that scales on demand\",\n        path: \"/azure-icons/services/bot-services.svg\"\n      },\n      {\n        name: \"Azure OpenAI\",\n        definition: \"Provides access to OpenAI's powerful language models with Azure security\",\n        path: \"/azure-icons/services/azure-openai.svg\"\n      },\n      {\n        name: \"Face APIs\",\n        definition: \"Detects, recognizes, and analyzes human faces in images\",\n        path: \"/azure-icons/services/face-apis.svg\"\n      }\n    ];\n  }\n};\n\n// Update the getRandomServices function to work with async data\nexport const getRandomServices = async (count = 10) => {\n  const allServices = await getServiceDefinitions();\n  const shuffled = [...allServices].sort(() => 0.5 - Math.random());\n  return shuffled.slice(0, count);\n};\n\n// Update other functions that use SERVICE_DEFINITIONS\nexport const getRandomDefinition = async () => {\n  const services = await getServiceDefinitions();\n  const randomIndex = Math.floor(Math.random() * services.length);\n  return {\n    name: services[randomIndex].name,\n    definition: services[randomIndex].definition\n  };\n};\n\n// Check if the game is complete (all definitions matched)\nexport const isGameComplete = (matchedServices, totalServices) => {\n  return matchedServices.length === totalServices;\n};\n\n// Format time as MM:SS\nexport const formatTime = (seconds) => {\n  const mins = Math.floor(seconds / 60);\n  const secs = seconds % 60;\n  return `${mins < 10 ? '0' : ''}${mins}:${secs < 10 ? '0' : ''}${secs}`;\n}; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
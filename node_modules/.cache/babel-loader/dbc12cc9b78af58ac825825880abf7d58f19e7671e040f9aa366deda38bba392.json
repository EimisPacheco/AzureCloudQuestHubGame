{"ast":null,"code":"import _slicedToArray from \"/Users/eimis/test-server/react_projects/cloud-architecture-game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nvar _jsxFileName = \"/Users/eimis/test-server/react_projects/cloud-architecture-game/src/components/AWSArchitectureDisplay.jsx\",\n  _this = this,\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useDrop } from 'react-dnd';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar AWSArchitectureDisplay = function AWSArchitectureDisplay(_ref) {\n  _s();\n  var _architecture$connect;\n  var architecture = _ref.architecture,\n    missingServices = _ref.missingServices,\n    onServiceClick = _ref.onServiceClick;\n  var _useDrop = useDrop(function () {\n      return {\n        accept: 'AWS_SERVICE',\n        drop: function drop(item) {\n          return onServiceClick(item.id);\n        },\n        collect: function collect(monitor) {\n          return {\n            isOver: monitor.isOver()\n          };\n        }\n      };\n    }),\n    _useDrop2 = _slicedToArray(_useDrop, 2),\n    isOver = _useDrop2[0].isOver,\n    drop = _useDrop2[1];\n  if (!architecture || !architecture.services) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"architecture-container\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"loading-state\",\n        children: \"Loading Architecture...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 16,\n        columnNumber: 9\n      }, _this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 15,\n      columnNumber: 7\n    }, _this);\n  }\n  var centerX = 400;\n  var centerY = 250;\n  var radius = 150;\n  var angleStep = 2 * Math.PI / architecture.services.length;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    ref: drop,\n    className: \"architecture-container \".concat(isOver ? 'drop-target' : ''),\n    children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n      className: \"connections-layer\",\n      width: \"100%\",\n      height: \"100%\",\n      children: (_architecture$connect = architecture.connections) === null || _architecture$connect === void 0 ? void 0 : _architecture$connect.map(function (conn, idx) {\n        var fromService = architecture.services.find(function (s) {\n          return s.id === conn.from;\n        });\n        var toService = architecture.services.find(function (s) {\n          return s.id === conn.to;\n        });\n        var fromIndex = architecture.services.indexOf(fromService);\n        var toIndex = architecture.services.indexOf(toService);\n        var fromX = centerX + radius * Math.cos(fromIndex * angleStep);\n        var fromY = centerY + radius * Math.sin(fromIndex * angleStep);\n        var toX = centerX + radius * Math.cos(toIndex * angleStep);\n        var toY = centerY + radius * Math.sin(toIndex * angleStep);\n        return /*#__PURE__*/_jsxDEV(\"line\", {\n          x1: fromX,\n          y1: fromY,\n          x2: toX,\n          y2: toY,\n          stroke: \"#FF9900\",\n          strokeWidth: \"2\",\n          strokeDasharray: conn.dashed ? \"5,5\" : \"\"\n        }, idx, false, {\n          fileName: _jsxFileName,\n          lineNumber: 44,\n          columnNumber: 13\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 31,\n      columnNumber: 7\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"architecture-diagram\",\n      children: architecture.services.map(function (service, index) {\n        var x = centerX + radius * Math.cos(index * angleStep);\n        var y = centerY + radius * Math.sin(index * angleStep);\n        var isMissing = missingServices === null || missingServices === void 0 ? void 0 : missingServices.includes(service.id);\n        return /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"service-node \".concat(isMissing ? 'missing' : ''),\n          style: {\n            position: 'absolute',\n            left: \"\".concat(x, \"px\"),\n            top: \"\".concat(y, \"px\"),\n            transform: 'translate(-50%, -50%)',\n            cursor: isMissing ? 'pointer' : 'default'\n          },\n          onClick: function onClick() {\n            return isMissing && onServiceClick(service.id);\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: service.icon,\n            alt: service.name,\n            className: \"service-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"service-label\",\n            children: service.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 15\n          }, _this)]\n        }, service.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, _this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 7\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 27,\n    columnNumber: 5\n  }, _this);\n};\n_s(AWSArchitectureDisplay, \"9166pYLrZ/JzF75YDim8ZjfICTM=\", false, function () {\n  return [useDrop];\n});\n_c = AWSArchitectureDisplay;\nexport default AWSArchitectureDisplay;\nvar _c;\n$RefreshReg$(_c, \"AWSArchitectureDisplay\");","map":{"version":3,"names":["React","useDrop","jsxDEV","_jsxDEV","AWSArchitectureDisplay","_ref","_s","_architecture$connect","architecture","missingServices","onServiceClick","_useDrop","accept","drop","item","id","collect","monitor","isOver","_useDrop2","_slicedToArray","services","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_this","centerX","centerY","radius","angleStep","Math","PI","length","ref","concat","width","height","connections","map","conn","idx","fromService","find","s","from","toService","to","fromIndex","indexOf","toIndex","fromX","cos","fromY","sin","toX","toY","x1","y1","x2","y2","stroke","strokeWidth","strokeDasharray","dashed","service","index","x","y","isMissing","includes","style","position","left","top","transform","cursor","onClick","src","icon","alt","name","_c","$RefreshReg$"],"sources":["/Users/eimis/test-server/react_projects/cloud-architecture-game/src/components/AWSArchitectureDisplay.jsx"],"sourcesContent":["import React from 'react';\nimport { useDrop } from 'react-dnd';\n\nconst AWSArchitectureDisplay = ({ architecture, missingServices, onServiceClick }) => {\n  const [{ isOver }, drop] = useDrop(() => ({\n    accept: 'AWS_SERVICE',\n    drop: (item) => onServiceClick(item.id),\n    collect: (monitor) => ({\n      isOver: monitor.isOver()\n    })\n  }));\n\n  if (!architecture || !architecture.services) {\n    return (\n      <div className=\"architecture-container\">\n        <div className=\"loading-state\">Loading Architecture...</div>\n      </div>\n    );\n  }\n\n  const centerX = 400;\n  const centerY = 250;\n  const radius = 150;\n  const angleStep = (2 * Math.PI) / architecture.services.length;\n\n  return (\n    <div \n      ref={drop} \n      className={`architecture-container ${isOver ? 'drop-target' : ''}`}\n    >\n      <svg className=\"connections-layer\" width=\"100%\" height=\"100%\">\n        {architecture.connections?.map((conn, idx) => {\n          const fromService = architecture.services.find(s => s.id === conn.from);\n          const toService = architecture.services.find(s => s.id === conn.to);\n          const fromIndex = architecture.services.indexOf(fromService);\n          const toIndex = architecture.services.indexOf(toService);\n          \n          const fromX = centerX + radius * Math.cos(fromIndex * angleStep);\n          const fromY = centerY + radius * Math.sin(fromIndex * angleStep);\n          const toX = centerX + radius * Math.cos(toIndex * angleStep);\n          const toY = centerY + radius * Math.sin(toIndex * angleStep);\n\n          return (\n            <line\n              key={idx}\n              x1={fromX}\n              y1={fromY}\n              x2={toX}\n              y2={toY}\n              stroke=\"#FF9900\"\n              strokeWidth=\"2\"\n              strokeDasharray={conn.dashed ? \"5,5\" : \"\"}\n            />\n          );\n        })}\n      </svg>\n\n      <div className=\"architecture-diagram\">\n        {architecture.services.map((service, index) => {\n          const x = centerX + radius * Math.cos(index * angleStep);\n          const y = centerY + radius * Math.sin(index * angleStep);\n          const isMissing = missingServices?.includes(service.id);\n\n          return (\n            <div\n              key={service.id}\n              className={`service-node ${isMissing ? 'missing' : ''}`}\n              style={{\n                position: 'absolute',\n                left: `${x}px`,\n                top: `${y}px`,\n                transform: 'translate(-50%, -50%)',\n                cursor: isMissing ? 'pointer' : 'default'\n              }}\n              onClick={() => isMissing && onServiceClick(service.id)}\n            >\n              <img\n                src={service.icon}\n                alt={service.name}\n                className=\"service-icon\"\n              />\n              <div className=\"service-label\">{service.name}</div>\n            </div>\n          );\n        })}\n      </div>\n    </div>\n  );\n};\n\nexport default AWSArchitectureDisplay; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"/Users/eimis/test-server/Azure Hackthons/azure-cloud-architecture-game /src/components/IconsSelectCategoryFast.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\nimport '../styles/GameCanvas.css';\nimport { getCategoryIcons, getRandomCategory } from '../utils/categorySelectionUtils';\nimport { getServiceIconUrl } from '../utils/memoryGameUtils';\nimport { Link } from 'react-router-dom';\nimport CosmosDBService from '../services/CosmosDBService';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst IconsSelectCategoryFast = () => {\n  _s();\n  // Game state with proper initialization\n  const [currentCategory, setCurrentCategory] = useState('');\n  const [displayCategory, setDisplayCategory] = useState('');\n  const [icons, setIcons] = useState([]);\n  const [selectedIcons, setSelectedIcons] = useState([]);\n  const [correctSelections, setCorrectSelections] = useState(0);\n  const [timeElapsed, setTimeElapsed] = useState(0);\n  const [score, setScore] = useState(0);\n  const [gameStarted, setGameStarted] = useState(false);\n  const [gameOver, setGameOver] = useState(false);\n  const [showWelcome, setShowWelcome] = useState(true);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [playerName, setPlayerName] = useState('');\n  const [tempPlayerName, setTempPlayerName] = useState('');\n  const [nameError, setNameError] = useState('');\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [roundComplete, setRoundComplete] = useState(false);\n  const TIME_LIMIT = 60;\n  const gameType = 'CategoryFast';\n  const timerRef = useRef(null);\n\n  // Initialize game state\n  useEffect(() => {\n    // Reset everything on mount\n    const resetGame = () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n      setGameStarted(false);\n      setGameOver(false);\n      setShowWelcome(true);\n      setTimeElapsed(0);\n      setScore(0);\n      setPlayerName('');\n      setSelectedIcons([]);\n      setCorrectSelections(0);\n      setRoundComplete(false);\n    };\n    resetGame();\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n    };\n  }, []);\n\n  // Handle name submission and game start\n  const handleNameSubmit = e => {\n    e.preventDefault();\n    if (tempPlayerName.trim().length < 2) {\n      setNameError('Name must be at least 2 characters long');\n      return;\n    }\n    if (tempPlayerName.trim().length > 15) {\n      setNameError('Name must be less than 15 characters');\n      return;\n    }\n    setPlayerName(tempPlayerName.trim());\n    startNewGame();\n  };\n\n  // Separate game initialization from name submission\n  const startNewGame = () => {\n    // Clear any existing timer\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n\n    // Reset game state\n    setShowWelcome(false);\n    setGameStarted(true);\n    setGameOver(false);\n    setScore(0);\n    setTimeElapsed(0);\n    setSelectedIcons([]);\n    setCorrectSelections(0);\n    setCurrentCategory('');\n    setDisplayCategory('');\n    setIcons([]);\n    setRoundComplete(false);\n\n    // Fetch leaderboard and start new round\n    fetchLeaderboard();\n    startNewRound();\n  };\n\n  // Timer management\n  useEffect(() => {\n    // Only start timer when game is actually ready to begin\n    const shouldStartTimer = gameStarted && !gameOver && !showWelcome && playerName && currentCategory; // Make sure category is loaded\n\n    if (shouldStartTimer && !timerRef.current) {\n      console.log('Starting timer...', {\n        gameStarted,\n        gameOver,\n        showWelcome,\n        playerName\n      });\n      timerRef.current = setInterval(() => {\n        setTimeElapsed(prev => {\n          if (prev >= TIME_LIMIT - 1) {\n            clearInterval(timerRef.current);\n            timerRef.current = null;\n            handleGameOver();\n            return TIME_LIMIT;\n          }\n          return prev + 1;\n        });\n      }, 1000);\n    }\n    return () => {\n      if (timerRef.current) {\n        console.log('Cleaning up timer...');\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n    };\n  }, [gameStarted, gameOver, showWelcome, playerName, currentCategory]);\n\n  // Handle game over\n  const handleGameOver = async () => {\n    // Clear timer first\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n    setGameOver(true);\n    setRoundComplete(true);\n    try {\n      await saveScore();\n      console.log('Score saved successfully');\n    } catch (error) {\n      console.error('Failed to save score:', error);\n    }\n\n    // Prepare for next round\n    setTimeElapsed(0);\n    setSelectedIcons([]);\n    setCorrectSelections(0);\n    setRoundComplete(false);\n    startNewRound();\n  };\n\n  // Sound state\n  const [soundsLoaded, setSoundsLoaded] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const sounds = useRef({});\n\n  // Game container ref\n  const gameContainerRef = useRef(null);\n  const categoryIconsRef = useRef([]);\n\n  // Player state\n  const [highScores, setHighScores] = useState(() => {\n    const saved = localStorage.getItem('highScores');\n    return saved ? JSON.parse(saved) : [];\n  });\n\n  // Define sound files\n  const soundFiles = {\n    select: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/flip-switch.mp3`,\n    correct: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/correct_sound.mp3`,\n    incorrect: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/incorrect_sound.mp3`,\n    hover: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/hover.mp3`,\n    achievement: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/levelup.mp3`\n  };\n\n  // Helper function to safely create audio objects with timeout\n  const createSafeAudio = useCallback(path => {\n    const audio = new Audio();\n    return new Promise(resolve => {\n      audio.addEventListener('error', () => {\n        console.warn(`Sound file not found: ${path}`);\n        resolve(null);\n      });\n      audio.addEventListener('canplaythrough', () => {\n        resolve(audio);\n      });\n      // Timeout fallback in case sound loading takes too long\n      setTimeout(() => {\n        if (audio.readyState < 3) {\n          console.warn(`Sound loading timeout: ${path}`);\n          resolve(null);\n        }\n      }, 3000);\n      audio.src = path;\n    });\n  }, []);\n\n  // Load all sounds\n  useEffect(() => {\n    const loadSounds = async () => {\n      const soundPromises = Object.entries(soundFiles).map(async ([name, path]) => {\n        try {\n          const audio = await createSafeAudio(path);\n          return [name, audio];\n        } catch (error) {\n          console.error(`Failed to load sound ${name}:`, error);\n          return [name, null];\n        }\n      });\n      try {\n        const loadedSounds = await Promise.all(soundPromises);\n        const soundsMap = Object.fromEntries(loadedSounds);\n        sounds.current = soundsMap;\n\n        // Check if at least some sounds loaded successfully\n        const hasLoadedSounds = Object.values(soundsMap).some(sound => sound !== null);\n        setSoundsLoaded(hasLoadedSounds);\n        if (hasLoadedSounds) {\n          console.log('ðŸ”Š Sounds loaded successfully');\n        } else {\n          console.warn('âš ï¸ No sounds could be loaded');\n        }\n      } catch (error) {\n        console.error('Failed to load sounds:', error);\n      }\n    };\n    loadSounds();\n  }, [createSafeAudio]);\n\n  // Toggle mute\n  const toggleMute = useCallback(() => {\n    setIsMuted(!isMuted);\n  }, [isMuted]);\n\n  // Play a sound effect\n  const playSound = useCallback(soundName => {\n    if (isMuted || !sounds.current[soundName]) return;\n    const sound = sounds.current[soundName];\n    sound.currentTime = 0;\n    sound.play().catch(err => console.warn('Error playing sound:', err));\n  }, [isMuted]);\n\n  // First, define the initGame function without any dependencies to other functions\n  const initGame = useCallback(() => {\n    const {\n      category,\n      displayName,\n      icons: allIcons,\n      targetIcons\n    } = getRandomCategory();\n    setCurrentCategory(category);\n    setDisplayCategory(displayName);\n    setIcons(allIcons);\n    categoryIconsRef.current = targetIcons;\n    setSelectedIcons([]);\n    setCorrectSelections(0);\n    setTimeElapsed(0);\n    setRoundComplete(false);\n    setGameOver(false);\n    setGameStarted(true);\n\n    // Clear any existing timer\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n\n    // Start timer\n    const startTime = Date.now();\n    timerRef.current = setInterval(() => {\n      const newTime = Math.floor((Date.now() - startTime) / 1000);\n      setTimeElapsed(newTime);\n\n      // Check if time has run out\n      if (newTime >= TIME_LIMIT) {\n        // Handle timer expiry directly in the interval callback\n        if (timerRef.current) {\n          clearInterval(timerRef.current);\n        }\n        if (!roundComplete) {\n          setGameOver(true);\n          playSound('incorrect');\n        }\n      }\n    }, 1000);\n    console.log(`Starting new round with category: ${displayName}`);\n    console.log(`Target icons:`, targetIcons);\n  }, []);\n\n  // Next, define nextCategory with only initGame dependency\n  const nextCategory = useCallback(() => {\n    // Stop any confetti\n    setShowConfetti(false);\n\n    // Reset game state for next round\n    setGameOver(false);\n    initGame();\n\n    // Play sound effect\n    playSound('levelup');\n  }, [initGame, playSound]);\n\n  // Then, define handleRoundComplete\n  const handleRoundComplete = useCallback(() => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    setRoundComplete(true);\n    setShowConfetti(true);\n    playSound('achievement');\n\n    // Remove time/height bonus, just give a fixed completion bonus\n    setScore(prev => prev + 20); // Completion bonus\n  }, [playSound]);\n\n  // Use an effect for auto-advancing to next category\n  useEffect(() => {\n    let timer;\n    if (roundComplete || gameOver) {\n      timer = setTimeout(() => {\n        nextCategory();\n      }, 3000);\n    }\n    return () => {\n      if (timer) clearTimeout(timer);\n    };\n  }, [roundComplete, gameOver, nextCategory]);\n\n  // Handle card click\n  const handleCardClick = iconName => {\n    if (selectedIcons.includes(iconName)) {\n      return; // Already selected\n    }\n    setSelectedIcons(prev => [...prev, iconName]);\n    playSound('select');\n    if (categoryIconsRef.current.includes(iconName)) {\n      // Correct selection - award 20 points (instead of 5)\n      setScore(prev => prev + 20);\n      setCorrectSelections(prev => prev + 1);\n      playSound('correct');\n\n      // Check if all icons in the category are selected\n      if (correctSelections + 1 === categoryIconsRef.current.length) {\n        handleRoundComplete();\n      }\n    } else {\n      // Wrong selection - deduct 5 points\n      setScore(prev => Math.max(0, prev - 5));\n      playSound('incorrect');\n    }\n  };\n\n  // Start the game when component mounts\n  useEffect(() => {\n    initGame();\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [initGame]);\n\n  // Format time as MM:SS\n  const formatTime = seconds => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins < 10 ? '0' : ''}${mins}:${secs < 10 ? '0' : ''}${secs}`;\n  };\n\n  // Confetti component\n  const Confetti = ({\n    active\n  }) => {\n    if (!active) return null;\n    const confettiCount = 150;\n    const confetti = [];\n    for (let i = 0; i < confettiCount; i++) {\n      const left = `${Math.random() * 100}%`;\n      const animationDelay = `${Math.random() * 5}s`;\n      const initialOpacity = Math.random();\n      const size = `${Math.random() * 10 + 5}px`;\n      const rotation = `${Math.random() * 360}deg`;\n      const color = ['#00ffff',\n      // Cyan (Azure color)\n      '#0078d4',\n      // Blue (Azure color)\n      '#ffb900',\n      // Gold\n      '#e74c3c',\n      // Red\n      '#2ecc71',\n      // Green\n      '#9b59b6',\n      // Purple\n      '#3498db' // Light blue\n      ][Math.floor(Math.random() * 7)];\n      confetti.push(/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"memory-confetti-particle\",\n        style: {\n          left,\n          top: '-10px',\n          width: size,\n          height: size,\n          backgroundColor: color,\n          transform: `rotate(${rotation})`,\n          opacity: initialOpacity,\n          animationDelay\n        }\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 410,\n        columnNumber: 9\n      }, this));\n    }\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"memory-confetti-container\",\n      children: confetti\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 427,\n      columnNumber: 12\n    }, this);\n  };\n  const handleStartGame = () => {\n    setShowWelcome(false);\n    setGameStarted(true);\n    setGameOver(false);\n    setScore(0);\n    setTimeElapsed(0);\n    setSelectedIcons([]);\n    setCorrectSelections(0);\n    setCurrentCategory('');\n    setDisplayCategory('');\n    setIcons([]);\n    clearInterval(timerRef.current);\n    fetchLeaderboard();\n    startNewRound();\n  };\n  useEffect(() => {\n    if (gameStarted) {\n      console.log('Game started, fetching leaderboard...');\n      fetchLeaderboard();\n    }\n  }, [gameStarted]);\n  useEffect(() => {\n    if (gameOver) {\n      console.log('Game over, saving score...');\n      handleGameOver();\n    }\n  }, [gameOver]);\n  const fetchLeaderboard = () => {\n    CosmosDBService.getLeaderboard(gameType).then(data => {\n      console.log('Leaderboard data:', data);\n      setLeaderboard(data);\n    });\n  };\n  const saveScore = async () => {\n    if (!gameStarted || !playerName || score === 0) {\n      console.warn('Score save prevented:', {\n        gameStarted,\n        playerName,\n        score\n      });\n      return;\n    }\n    console.log('Saving score:', {\n      playerName,\n      gameType,\n      score\n    });\n    try {\n      const result = await CosmosDBService.saveGameScore(playerName, gameType, score, {\n        timeSpent: timeElapsed,\n        correctSelections,\n        incorrectSelections: selectedIcons.length - correctSelections\n      });\n      console.log('Score save result:', result);\n    } catch (error) {\n      console.error('Error saving score:', error);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"gameCanvas-container\",\n    ref: gameContainerRef,\n    children: [/*#__PURE__*/_jsxDEV(Confetti, {\n      active: showConfetti\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 497,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Link, {\n      to: \"/\",\n      className: \"back-to-home-button\",\n      style: {\n        position: 'absolute',\n        top: '20px',\n        left: '20px',\n        display: 'flex',\n        alignItems: 'center',\n        padding: '10px 20px',\n        backgroundColor: 'rgba(0, 255, 255, 0.1)',\n        border: '2px solid #00ffff',\n        borderRadius: '5px',\n        color: '#00ffff',\n        textDecoration: 'none',\n        fontFamily: 'Orbitron, sans-serif',\n        fontSize: '14px',\n        transition: 'all 0.3s ease',\n        zIndex: 100\n      },\n      onMouseEnter: () => playSound('hover'),\n      children: [/*#__PURE__*/_jsxDEV(\"svg\", {\n        xmlns: \"http://www.w3.org/2000/svg\",\n        viewBox: \"0 0 24 24\",\n        fill: \"currentColor\",\n        style: {\n          width: '20px',\n          height: '20px',\n          marginRight: '8px'\n        },\n        children: /*#__PURE__*/_jsxDEV(\"path\", {\n          d: \"M12 2L1 12h3v9h6v-6h4v6h6v-9h3L12 2z\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 532,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 522,\n        columnNumber: 9\n      }, this), \"Back to Home\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 500,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"gameCanvas-game-title\",\n      style: {\n        '--azure-icon': `url(${process.env.PUBLIC_URL}/azure-icons/Microsoft_Azure_Cyan.svg)`\n      },\n      children: \"zure Category Challenge\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 537,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gameCanvas-game-content\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gameCanvas-canvas-wrapper\",\n        style: {\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'flex-start',\n          position: 'relative',\n          paddingTop: '80px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-selection-header\",\n          style: {\n            marginBottom: '40px'\n          },\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"category-selection-instruction\",\n            children: [\"Select all the cards which belong to the category: \", /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"category-highlight\",\n              children: displayCategory\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 557,\n              columnNumber: 66\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 556,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 553,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-selection-grid\",\n          style: {\n            margin: '0 auto',\n            marginTop: '-20px'\n          },\n          children: icons.map((icon, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: `category-selection-card ${selectedIcons.includes(icon.name) ? categoryIconsRef.current.includes(icon.name) ? 'correct' : 'wrong' : ''}`,\n            onClick: () => handleCardClick(icon.name),\n            onMouseEnter: () => playSound('hover'),\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: getServiceIconUrl(icon.path),\n              alt: icon.name,\n              onError: e => {\n                e.target.onerror = null;\n                e.target.src = `${process.env.PUBLIC_URL}/azure-icons/default.svg`;\n              }\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 574,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"category-selection-card-text\",\n              children: icon.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 582,\n              columnNumber: 17\n            }, this)]\n          }, `${icon.name}-${index}`, true, {\n            fileName: _jsxFileName,\n            lineNumber: 567,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 562,\n          columnNumber: 11\n        }, this), roundComplete && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-selection-success\",\n          style: {\n            position: 'absolute',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            background: 'rgba(46, 204, 113, 0.9)',\n            color: 'white',\n            padding: '12px',\n            textAlign: 'center',\n            zIndex: 1000\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: [\"Great job! You found all \", categoryIconsRef.current.length, \" icons in \", timeElapsed, \" seconds.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 600,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"You earned \", Math.max(100 - timeElapsed * 2, 10), \" points!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 601,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 589,\n          columnNumber: 13\n        }, this), gameOver && !roundComplete && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"category-selection-failure-banner\",\n          style: {\n            position: 'absolute',\n            bottom: 0,\n            left: 0,\n            right: 0,\n            background: 'rgba(231, 76, 60, 0.9)',\n            color: 'white',\n            padding: '12px',\n            textAlign: 'center',\n            zIndex: 1000\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"Time's up!\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 617,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"You found \", correctSelections, \" out of \", categoryIconsRef.current.length, \" icons.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 618,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"Looking for: \", categoryIconsRef.current.join(', ')]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 619,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 606,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 546,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gameCanvas-instruction-panel\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameCanvas-player-box\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gameCanvas-player-name\",\n            children: [\"PLAYER: \", playerName]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 628,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 627,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameCanvas-score-box\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gameCanvas-score-display\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              role: \"img\",\n              \"aria-label\": \"alien\",\n              children: \"\\uD83D\\uDC7E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 15\n            }, this), \" Score: \", score, \" \", /*#__PURE__*/_jsxDEV(\"span\", {\n              role: \"img\",\n              \"aria-label\": \"joystick\",\n              children: \"\\uD83D\\uDD79\\uFE0F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 636,\n              columnNumber: 76\n            }, this), soundsLoaded && /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"gameCanvas-sound-toggle\",\n              onClick: toggleMute,\n              \"aria-label\": \"Toggle sound\",\n              style: {\n                marginLeft: '8px',\n                display: 'inline-block'\n              },\n              children: isMuted ? 'ðŸ”‡' : 'ðŸ”Š'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 638,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 635,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 634,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameCanvas-timer-box\",\n          children: /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gameCanvas-timer-display\",\n            children: formatTime(timeElapsed)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 652,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 651,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameCanvas-score-explanation\",\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            children: \"HOW TO SCORE:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 659,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            children: [/*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Hit correct icon: +20 points\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 661,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Wrong hit: -5 points\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 662,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n              children: \"\\u2022 Tip: Select icons as fast as possible!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 663,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 660,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 658,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameCanvas-progress-display\",\n          children: [\"Progress: \", correctSelections, \" out of \", categoryIconsRef.current.length]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 668,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameCanvas-high-scores\",\n          style: {\n            backgroundColor: 'rgba(0, 40, 56, 0.8)',\n            // Dark cyan/blue with transparency\n            border: '1px solid #00ffff',\n            // Cyan border\n            borderRadius: '8px',\n            // Increased from 4px to 8px for more rounded corners\n            padding: '15px',\n            marginTop: '10px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n            style: {\n              color: '#00ffff',\n              // Cyan text\n              marginBottom: '10px',\n              textAlign: 'center'\n            },\n            children: \"HIGH SCORES\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 680,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n            style: {\n              listStyle: 'none',\n              padding: 0\n            },\n            children: leaderboard.map((entry, index) => /*#__PURE__*/_jsxDEV(\"li\", {\n              style: {\n                display: 'flex',\n                justifyContent: 'space-between',\n                padding: '4px 0'\n              },\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"gameCanvas-high-score-name\",\n                children: [entry.name, \":\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 694,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                children: entry.score\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 695,\n                columnNumber: 19\n              }, this)]\n            }, index, true, {\n              fileName: _jsxFileName,\n              lineNumber: 689,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 687,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 673,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"gameCanvas-mission-container\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"gameCanvas-mission-title\",\n            children: \"CURRENT MISSION\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 703,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gameCanvas-mission-text\",\n            children: [\"Select the \", displayCategory, \" icons!\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 706,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 702,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 625,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 544,\n      columnNumber: 7\n    }, this), showWelcome && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gameCanvas-modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"gameCanvas-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"Welcome to Azure Category Challenge!\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 717,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Enter your name to start the game:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 718,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleNameSubmit,\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            value: tempPlayerName,\n            onChange: e => {\n              setTempPlayerName(e.target.value);\n              setNameError('');\n            },\n            placeholder: \"Your name\",\n            className: \"gameCanvas-name-input\",\n            autoFocus: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 720,\n            columnNumber: 15\n          }, this), nameError && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"gameCanvas-name-error\",\n            children: nameError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 731,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            className: \"gameCanvas-start-button\",\n            children: \"START GAME\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 732,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 719,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 716,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 715,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 496,\n    columnNumber: 5\n  }, this);\n};\n_s(IconsSelectCategoryFast, \"sMnNRVN/n9NO0ghPOceaHtsvu7U=\");\n_c = IconsSelectCategoryFast;\nexport default IconsSelectCategoryFast;\nvar _c;\n$RefreshReg$(_c, \"IconsSelectCategoryFast\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","getCategoryIcons","getRandomCategory","getServiceIconUrl","Link","CosmosDBService","jsxDEV","_jsxDEV","IconsSelectCategoryFast","_s","currentCategory","setCurrentCategory","displayCategory","setDisplayCategory","icons","setIcons","selectedIcons","setSelectedIcons","correctSelections","setCorrectSelections","timeElapsed","setTimeElapsed","score","setScore","gameStarted","setGameStarted","gameOver","setGameOver","showWelcome","setShowWelcome","showConfetti","setShowConfetti","playerName","setPlayerName","tempPlayerName","setTempPlayerName","nameError","setNameError","leaderboard","setLeaderboard","roundComplete","setRoundComplete","TIME_LIMIT","gameType","timerRef","resetGame","current","clearInterval","handleNameSubmit","e","preventDefault","trim","length","startNewGame","fetchLeaderboard","startNewRound","shouldStartTimer","console","log","setInterval","prev","handleGameOver","saveScore","error","soundsLoaded","setSoundsLoaded","isMuted","setIsMuted","sounds","gameContainerRef","categoryIconsRef","highScores","setHighScores","saved","localStorage","getItem","JSON","parse","soundFiles","select","process","env","REACT_APP_AZURE_BUCKET_URL","correct","incorrect","hover","achievement","createSafeAudio","path","audio","Audio","Promise","resolve","addEventListener","warn","setTimeout","readyState","src","loadSounds","soundPromises","Object","entries","map","name","loadedSounds","all","soundsMap","fromEntries","hasLoadedSounds","values","some","sound","toggleMute","playSound","soundName","currentTime","play","catch","err","initGame","category","displayName","allIcons","targetIcons","startTime","Date","now","newTime","Math","floor","nextCategory","handleRoundComplete","timer","clearTimeout","handleCardClick","iconName","includes","max","formatTime","seconds","mins","secs","Confetti","active","confettiCount","confetti","i","left","random","animationDelay","initialOpacity","size","rotation","color","push","className","style","top","width","height","backgroundColor","transform","opacity","fileName","_jsxFileName","lineNumber","columnNumber","children","handleStartGame","getLeaderboard","then","data","result","saveGameScore","timeSpent","incorrectSelections","ref","to","position","display","alignItems","padding","border","borderRadius","textDecoration","fontFamily","fontSize","transition","zIndex","onMouseEnter","xmlns","viewBox","fill","marginRight","d","PUBLIC_URL","flexDirection","justifyContent","paddingTop","marginBottom","margin","marginTop","icon","index","onClick","alt","onError","target","onerror","bottom","right","background","textAlign","join","role","marginLeft","listStyle","entry","onSubmit","type","value","onChange","placeholder","autoFocus","_c","$RefreshReg$"],"sources":["/Users/eimis/test-server/Azure Hackthons/azure-cloud-architecture-game /src/components/IconsSelectCategoryFast.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\nimport '../styles/GameCanvas.css';\nimport { getCategoryIcons, getRandomCategory } from '../utils/categorySelectionUtils';\nimport { getServiceIconUrl } from '../utils/memoryGameUtils';\nimport { Link } from 'react-router-dom';\nimport CosmosDBService from '../services/CosmosDBService';\n\nconst IconsSelectCategoryFast = () => {\n  // Game state with proper initialization\n  const [currentCategory, setCurrentCategory] = useState('');\n  const [displayCategory, setDisplayCategory] = useState('');\n  const [icons, setIcons] = useState([]);\n  const [selectedIcons, setSelectedIcons] = useState([]);\n  const [correctSelections, setCorrectSelections] = useState(0);\n  const [timeElapsed, setTimeElapsed] = useState(0);\n  const [score, setScore] = useState(0);\n  const [gameStarted, setGameStarted] = useState(false);\n  const [gameOver, setGameOver] = useState(false);\n  const [showWelcome, setShowWelcome] = useState(true);\n  const [showConfetti, setShowConfetti] = useState(false);\n  const [playerName, setPlayerName] = useState('');\n  const [tempPlayerName, setTempPlayerName] = useState('');\n  const [nameError, setNameError] = useState('');\n  const [leaderboard, setLeaderboard] = useState([]);\n  const [roundComplete, setRoundComplete] = useState(false);\n  \n  const TIME_LIMIT = 60;\n  const gameType = 'CategoryFast';\n  const timerRef = useRef(null);\n\n  // Initialize game state\n  useEffect(() => {\n    // Reset everything on mount\n    const resetGame = () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n      setGameStarted(false);\n      setGameOver(false);\n      setShowWelcome(true);\n      setTimeElapsed(0);\n      setScore(0);\n      setPlayerName('');\n      setSelectedIcons([]);\n      setCorrectSelections(0);\n      setRoundComplete(false);\n    };\n\n    resetGame();\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n    };\n  }, []);\n\n  // Handle name submission and game start\n  const handleNameSubmit = (e) => {\n    e.preventDefault();\n    if (tempPlayerName.trim().length < 2) {\n      setNameError('Name must be at least 2 characters long');\n      return;\n    }\n    if (tempPlayerName.trim().length > 15) {\n      setNameError('Name must be less than 15 characters');\n      return;\n    }\n    setPlayerName(tempPlayerName.trim());\n    startNewGame();\n  };\n\n  // Separate game initialization from name submission\n  const startNewGame = () => {\n    // Clear any existing timer\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n    \n    // Reset game state\n    setShowWelcome(false);\n    setGameStarted(true);\n    setGameOver(false);\n    setScore(0);\n    setTimeElapsed(0);\n    setSelectedIcons([]);\n    setCorrectSelections(0);\n    setCurrentCategory('');\n    setDisplayCategory('');\n    setIcons([]);\n    setRoundComplete(false);\n    \n    // Fetch leaderboard and start new round\n    fetchLeaderboard();\n    startNewRound();\n  };\n\n  // Timer management\n  useEffect(() => {\n    // Only start timer when game is actually ready to begin\n    const shouldStartTimer = \n      gameStarted && \n      !gameOver && \n      !showWelcome && \n      playerName && \n      currentCategory; // Make sure category is loaded\n\n    if (shouldStartTimer && !timerRef.current) {\n      console.log('Starting timer...', { gameStarted, gameOver, showWelcome, playerName });\n      timerRef.current = setInterval(() => {\n        setTimeElapsed(prev => {\n          if (prev >= TIME_LIMIT - 1) {\n            clearInterval(timerRef.current);\n            timerRef.current = null;\n            handleGameOver();\n            return TIME_LIMIT;\n          }\n          return prev + 1;\n        });\n      }, 1000);\n    }\n\n    return () => {\n      if (timerRef.current) {\n        console.log('Cleaning up timer...');\n        clearInterval(timerRef.current);\n        timerRef.current = null;\n      }\n    };\n  }, [gameStarted, gameOver, showWelcome, playerName, currentCategory]);\n\n  // Handle game over\n  const handleGameOver = async () => {\n    // Clear timer first\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n      timerRef.current = null;\n    }\n\n    setGameOver(true);\n    setRoundComplete(true);\n    \n    try {\n      await saveScore();\n      console.log('Score saved successfully');\n    } catch (error) {\n      console.error('Failed to save score:', error);\n    }\n\n    // Prepare for next round\n    setTimeElapsed(0);\n    setSelectedIcons([]);\n    setCorrectSelections(0);\n    setRoundComplete(false);\n    startNewRound();\n  };\n\n  // Sound state\n  const [soundsLoaded, setSoundsLoaded] = useState(false);\n  const [isMuted, setIsMuted] = useState(false);\n  const sounds = useRef({});\n  \n  // Game container ref\n  const gameContainerRef = useRef(null);\n  const categoryIconsRef = useRef([]);\n\n  // Player state\n  const [highScores, setHighScores] = useState(() => {\n    const saved = localStorage.getItem('highScores');\n    return saved ? JSON.parse(saved) : [];\n  });\n\n  // Define sound files\n  const soundFiles = {\n    select: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/flip-switch.mp3`,\n    correct: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/correct_sound.mp3`,\n    incorrect: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/incorrect_sound.mp3`,\n    hover: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/hover.mp3`,\n    achievement: `${process.env.REACT_APP_AZURE_BUCKET_URL}/games/sounds/levelup.mp3`\n  };\n\n  // Helper function to safely create audio objects with timeout\n  const createSafeAudio = useCallback((path) => {\n    const audio = new Audio();\n    return new Promise((resolve) => {\n      audio.addEventListener('error', () => {\n        console.warn(`Sound file not found: ${path}`);\n        resolve(null);\n      });\n      audio.addEventListener('canplaythrough', () => {\n        resolve(audio);\n      });\n      // Timeout fallback in case sound loading takes too long\n      setTimeout(() => {\n        if (audio.readyState < 3) {\n          console.warn(`Sound loading timeout: ${path}`);\n          resolve(null);\n        }\n      }, 3000);\n      audio.src = path;\n    });\n  }, []);\n\n  // Load all sounds\n  useEffect(() => {\n    const loadSounds = async () => {\n      const soundPromises = Object.entries(soundFiles).map(async ([name, path]) => {\n        try {\n          const audio = await createSafeAudio(path);\n          return [name, audio];\n        } catch (error) {\n          console.error(`Failed to load sound ${name}:`, error);\n          return [name, null];\n        }\n      });\n\n      try {\n        const loadedSounds = await Promise.all(soundPromises);\n        const soundsMap = Object.fromEntries(loadedSounds);\n        sounds.current = soundsMap;\n        \n        // Check if at least some sounds loaded successfully\n        const hasLoadedSounds = Object.values(soundsMap).some(sound => sound !== null);\n        setSoundsLoaded(hasLoadedSounds);\n        \n        if (hasLoadedSounds) {\n          console.log('ðŸ”Š Sounds loaded successfully');\n        } else {\n          console.warn('âš ï¸ No sounds could be loaded');\n        }\n      } catch (error) {\n        console.error('Failed to load sounds:', error);\n      }\n    };\n\n    loadSounds();\n  }, [createSafeAudio]);\n  \n  // Toggle mute\n  const toggleMute = useCallback(() => {\n    setIsMuted(!isMuted);\n  }, [isMuted]);\n\n  // Play a sound effect\n  const playSound = useCallback(\n    (soundName) => {\n      if (isMuted || !sounds.current[soundName]) return;\n      const sound = sounds.current[soundName];\n      sound.currentTime = 0;\n      sound.play().catch(err => console.warn('Error playing sound:', err));\n    },\n    [isMuted]\n  );\n\n  // First, define the initGame function without any dependencies to other functions\n  const initGame = useCallback(() => {\n    const { category, displayName, icons: allIcons, targetIcons } = getRandomCategory();\n    \n    setCurrentCategory(category);\n    setDisplayCategory(displayName);\n    setIcons(allIcons);\n    categoryIconsRef.current = targetIcons;\n    setSelectedIcons([]);\n    setCorrectSelections(0);\n    setTimeElapsed(0);\n    setRoundComplete(false);\n    setGameOver(false);\n    setGameStarted(true);\n    \n    // Clear any existing timer\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    \n    // Start timer\n    const startTime = Date.now();\n    timerRef.current = setInterval(() => {\n      const newTime = Math.floor((Date.now() - startTime) / 1000);\n      setTimeElapsed(newTime);\n      \n      // Check if time has run out\n      if (newTime >= TIME_LIMIT) {\n        // Handle timer expiry directly in the interval callback\n        if (timerRef.current) {\n          clearInterval(timerRef.current);\n        }\n        \n        if (!roundComplete) {\n          setGameOver(true);\n          playSound('incorrect');\n        }\n      }\n    }, 1000);\n    \n    console.log(`Starting new round with category: ${displayName}`);\n    console.log(`Target icons:`, targetIcons);\n  }, []);\n\n  // Next, define nextCategory with only initGame dependency\n  const nextCategory = useCallback(() => {\n    // Stop any confetti\n    setShowConfetti(false);\n    \n    // Reset game state for next round\n    setGameOver(false);\n    initGame();\n    \n    // Play sound effect\n    playSound('levelup');\n  }, [initGame, playSound]);\n\n  // Then, define handleRoundComplete\n  const handleRoundComplete = useCallback(() => {\n    if (timerRef.current) {\n      clearInterval(timerRef.current);\n    }\n    \n    setRoundComplete(true);\n    setShowConfetti(true);\n    playSound('achievement');\n    \n    // Remove time/height bonus, just give a fixed completion bonus\n    setScore(prev => prev + 20); // Completion bonus\n  }, [playSound]);\n\n  // Use an effect for auto-advancing to next category\n  useEffect(() => {\n    let timer;\n    \n    if (roundComplete || gameOver) {\n      timer = setTimeout(() => {\n        nextCategory();\n      }, 3000);\n    }\n    \n    return () => {\n      if (timer) clearTimeout(timer);\n    };\n  }, [roundComplete, gameOver, nextCategory]);\n\n  // Handle card click\n  const handleCardClick = (iconName) => {\n    if (selectedIcons.includes(iconName)) {\n      return; // Already selected\n    }\n    \n    setSelectedIcons(prev => [...prev, iconName]);\n    playSound('select');\n    \n    if (categoryIconsRef.current.includes(iconName)) {\n      // Correct selection - award 20 points (instead of 5)\n      setScore(prev => prev + 20);\n      setCorrectSelections(prev => prev + 1);\n      playSound('correct');\n      \n      // Check if all icons in the category are selected\n      if (correctSelections + 1 === categoryIconsRef.current.length) {\n        handleRoundComplete();\n      }\n    } else {\n      // Wrong selection - deduct 5 points\n      setScore(prev => Math.max(0, prev - 5));\n      playSound('incorrect');\n    }\n  };\n\n  // Start the game when component mounts\n  useEffect(() => {\n    initGame();\n    return () => {\n      if (timerRef.current) {\n        clearInterval(timerRef.current);\n      }\n    };\n  }, [initGame]);\n\n  // Format time as MM:SS\n  const formatTime = (seconds) => {\n    const mins = Math.floor(seconds / 60);\n    const secs = seconds % 60;\n    return `${mins < 10 ? '0' : ''}${mins}:${secs < 10 ? '0' : ''}${secs}`;\n  };\n\n  // Confetti component\n  const Confetti = ({ active }) => {\n    if (!active) return null;\n    \n    const confettiCount = 150;\n    const confetti = [];\n    \n    for (let i = 0; i < confettiCount; i++) {\n      const left = `${Math.random() * 100}%`;\n      const animationDelay = `${Math.random() * 5}s`;\n      const initialOpacity = Math.random();\n      const size = `${Math.random() * 10 + 5}px`;\n      const rotation = `${Math.random() * 360}deg`;\n      const color = [\n        '#00ffff', // Cyan (Azure color)\n        '#0078d4', // Blue (Azure color)\n        '#ffb900', // Gold\n        '#e74c3c', // Red\n        '#2ecc71', // Green\n        '#9b59b6', // Purple\n        '#3498db', // Light blue\n      ][Math.floor(Math.random() * 7)];\n      \n      confetti.push(\n        <div \n          key={i}\n          className=\"memory-confetti-particle\"\n          style={{\n            left,\n            top: '-10px',\n            width: size,\n            height: size,\n            backgroundColor: color,\n            transform: `rotate(${rotation})`,\n            opacity: initialOpacity,\n            animationDelay,\n          }}\n        />\n      );\n    }\n    \n    return <div className=\"memory-confetti-container\">{confetti}</div>;\n  };\n\n  const handleStartGame = () => {\n    setShowWelcome(false);\n    setGameStarted(true);\n    setGameOver(false);\n    setScore(0);\n    setTimeElapsed(0);\n    setSelectedIcons([]);\n    setCorrectSelections(0);\n    setCurrentCategory('');\n    setDisplayCategory('');\n    setIcons([]);\n    clearInterval(timerRef.current);\n    fetchLeaderboard();\n    startNewRound();\n  };\n\n  useEffect(() => {\n    if (gameStarted) {\n      console.log('Game started, fetching leaderboard...');\n      fetchLeaderboard();\n    }\n  }, [gameStarted]);\n\n  useEffect(() => {\n    if (gameOver) {\n      console.log('Game over, saving score...');\n      handleGameOver();\n    }\n  }, [gameOver]);\n\n  const fetchLeaderboard = () => {\n    CosmosDBService.getLeaderboard(gameType).then(data => {\n      console.log('Leaderboard data:', data);\n      setLeaderboard(data);\n    });\n  };\n\n  const saveScore = async () => {\n    if (!gameStarted || !playerName || score === 0) {\n      console.warn('Score save prevented:', {\n        gameStarted,\n        playerName,\n        score\n      });\n      return;\n    }\n\n    console.log('Saving score:', {\n      playerName,\n      gameType,\n      score\n    });\n\n    try {\n      const result = await CosmosDBService.saveGameScore(playerName, gameType, score, {\n        timeSpent: timeElapsed,\n        correctSelections,\n        incorrectSelections: selectedIcons.length - correctSelections,\n      });\n      console.log('Score save result:', result);\n    } catch (error) {\n      console.error('Error saving score:', error);\n    }\n  };\n\n  return (\n    <div className=\"gameCanvas-container\" ref={gameContainerRef}>\n      <Confetti active={showConfetti} />\n\n      {/* Back to Home button */}\n      <Link \n        to=\"/\" \n        className=\"back-to-home-button\"\n        style={{\n          position: 'absolute',\n          top: '20px',\n          left: '20px',\n          display: 'flex',\n          alignItems: 'center',\n          padding: '10px 20px',\n          backgroundColor: 'rgba(0, 255, 255, 0.1)',\n          border: '2px solid #00ffff',\n          borderRadius: '5px',\n          color: '#00ffff',\n          textDecoration: 'none',\n          fontFamily: 'Orbitron, sans-serif',\n          fontSize: '14px',\n          transition: 'all 0.3s ease',\n          zIndex: 100\n        }}\n        onMouseEnter={() => playSound('hover')}\n      >\n        <svg \n          xmlns=\"http://www.w3.org/2000/svg\" \n          viewBox=\"0 0 24 24\" \n          fill=\"currentColor\" \n          style={{\n            width: '20px',\n            height: '20px',\n            marginRight: '8px'\n          }}\n        >\n          <path d=\"M12 2L1 12h3v9h6v-6h4v6h6v-9h3L12 2z\"/>\n        </svg>\n        Back to Home\n      </Link>\n\n      <h1 \n        className=\"gameCanvas-game-title\"\n        style={{ '--azure-icon': `url(${process.env.PUBLIC_URL}/azure-icons/Microsoft_Azure_Cyan.svg)` }}\n      >\n        zure Category Challenge\n      </h1>\n      \n      <div className=\"gameCanvas-game-content\">\n        {/* Main game area with centered grid */}\n        <div className=\"gameCanvas-canvas-wrapper\" style={{ \n          display: 'flex', \n          flexDirection: 'column', \n          justifyContent: 'flex-start',\n          position: 'relative',\n          paddingTop: '80px'\n        }}>\n          <div className=\"category-selection-header\" style={{\n            marginBottom: '40px'\n          }}>\n            <h2 className=\"category-selection-instruction\">\n              Select all the cards which belong to the category: <span className=\"category-highlight\">{displayCategory}</span>\n            </h2>\n          </div>\n\n          {/* Center the grid in the available space */}\n          <div className=\"category-selection-grid\" style={{ \n            margin: '0 auto',\n            marginTop: '-20px'\n          }}>\n            {icons.map((icon, index) => (\n              <div\n                key={`${icon.name}-${index}`}\n                className={`category-selection-card ${selectedIcons.includes(icon.name) ? \n                  (categoryIconsRef.current.includes(icon.name) ? 'correct' : 'wrong') : ''}`}\n                onClick={() => handleCardClick(icon.name)}\n                onMouseEnter={() => playSound('hover')}\n              >\n                <img \n                  src={getServiceIconUrl(icon.path)} \n                  alt={icon.name} \n                  onError={(e) => {\n                    e.target.onerror = null;\n                    e.target.src = `${process.env.PUBLIC_URL}/azure-icons/default.svg`;\n                  }}\n                />\n                <div className=\"category-selection-card-text\">{icon.name}</div>\n              </div>\n            ))}\n          </div>\n          \n          {/* Move the game completion messages to appear within the canvas */}\n          {roundComplete && (\n            <div className=\"category-selection-success\" style={{ \n              position: 'absolute', \n              bottom: 0, \n              left: 0, \n              right: 0, \n              background: 'rgba(46, 204, 113, 0.9)', \n              color: 'white',\n              padding: '12px',\n              textAlign: 'center',\n              zIndex: 1000\n            }}>\n              <h3>Great job! You found all {categoryIconsRef.current.length} icons in {timeElapsed} seconds.</h3>\n              <p>You earned {Math.max(100 - timeElapsed * 2, 10)} points!</p>\n            </div>\n          )}\n          \n          {gameOver && !roundComplete && (\n            <div className=\"category-selection-failure-banner\" style={{ \n              position: 'absolute', \n              bottom: 0, \n              left: 0, \n              right: 0, \n              background: 'rgba(231, 76, 60, 0.9)', \n              color: 'white',\n              padding: '12px',\n              textAlign: 'center',\n              zIndex: 1000\n            }}>\n              <h3>Time's up!</h3>\n              <p>You found {correctSelections} out of {categoryIconsRef.current.length} icons.</p>\n              <p>Looking for: {categoryIconsRef.current.join(', ')}</p>\n            </div>\n          )}\n        </div>\n\n        {/* Right side panel - EXACTLY matching GameCanvas.jsx */}\n        <div className=\"gameCanvas-instruction-panel\">\n          {/* Player info box */}\n          <div className=\"gameCanvas-player-box\">\n            <div className=\"gameCanvas-player-name\">\n              PLAYER: {playerName}\n            </div>\n          </div>\n\n          {/* Score box */}\n          <div className=\"gameCanvas-score-box\">\n            <div className=\"gameCanvas-score-display\">\n              <span role=\"img\" aria-label=\"alien\">ðŸ‘¾</span> Score: {score} <span role=\"img\" aria-label=\"joystick\">ðŸ•¹ï¸</span>\n              {soundsLoaded && (\n                <button \n                  className=\"gameCanvas-sound-toggle\"\n                  onClick={toggleMute}\n                  aria-label=\"Toggle sound\"\n                  style={{ marginLeft: '8px', display: 'inline-block' }}\n                >\n                  {isMuted ? 'ðŸ”‡' : 'ðŸ”Š'}\n                </button>\n              )}\n            </div>\n          </div>\n\n          {/* Timer box */}\n          <div className=\"gameCanvas-timer-box\">\n            <div className=\"gameCanvas-timer-display\">\n              {formatTime(timeElapsed)}\n            </div>\n          </div>\n\n          {/* How to score box */}\n          <div className=\"gameCanvas-score-explanation\">\n            <h4>HOW TO SCORE:</h4>\n            <ul>\n              <li>â€¢ Hit correct icon: +20 points</li>\n              <li>â€¢ Wrong hit: -5 points</li>\n              <li>â€¢ Tip: Select icons as fast as possible!</li>\n            </ul>\n          </div>\n\n          {/* Progress display */}\n          <div className=\"gameCanvas-progress-display\">\n            Progress: {correctSelections} out of {categoryIconsRef.current.length}\n          </div>\n\n          {/* High scores section */}\n          <div className=\"gameCanvas-high-scores\" style={{\n            backgroundColor: 'rgba(0, 40, 56, 0.8)',  // Dark cyan/blue with transparency\n            border: '1px solid #00ffff',  // Cyan border\n            borderRadius: '8px',  // Increased from 4px to 8px for more rounded corners\n            padding: '15px',\n            marginTop: '10px'\n          }}>\n            <h4 style={{ \n              color: '#00ffff',  // Cyan text\n              marginBottom: '10px',\n              textAlign: 'center'\n            }}>\n              HIGH SCORES\n            </h4>\n            <ul style={{ listStyle: 'none', padding: 0 }}>\n              {leaderboard.map((entry, index) => (\n                <li key={index} style={{ \n                  display: 'flex', \n                  justifyContent: 'space-between',\n                  padding: '4px 0'\n                }}>\n                  <span className=\"gameCanvas-high-score-name\">{entry.name}:</span>\n                  <span>{entry.score}</span>\n                </li>\n              ))}\n            </ul>\n          </div>\n\n          {/* Current mission box */}\n          <div className=\"gameCanvas-mission-container\">\n            <h3 className=\"gameCanvas-mission-title\">\n              CURRENT MISSION\n            </h3>\n            <div className=\"gameCanvas-mission-text\">\n              Select the {displayCategory} icons!\n            </div>\n          </div>\n        </div>\n      </div>\n\n      {/* Welcome modal */}\n      {showWelcome && (\n        <div className=\"gameCanvas-modal-overlay\">\n          <div className=\"gameCanvas-modal\">\n            <h2>Welcome to Azure Category Challenge!</h2>\n            <p>Enter your name to start the game:</p>\n            <form onSubmit={handleNameSubmit}>\n              <input\n                type=\"text\"\n                value={tempPlayerName}\n                onChange={(e) => {\n                  setTempPlayerName(e.target.value);\n                  setNameError('');\n                }}\n                placeholder=\"Your name\"\n                className=\"gameCanvas-name-input\"\n                autoFocus\n              />\n              {nameError && <div className=\"gameCanvas-name-error\">{nameError}</div>}\n              <button type=\"submit\" className=\"gameCanvas-start-button\">\n                START GAME\n              </button>\n            </form>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default IconsSelectCategoryFast; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}